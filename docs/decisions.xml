<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>V-Sekai - Manuals</title>
<link>https://v-sekai.github.io/manuals/decisions.html</link>
<atom:link href="https://v-sekai.github.io/manuals/decisions.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.3.361</generator>
<lastBuildDate>Sat, 27 May 2023 14:29:35 GMT</lastBuildDate>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230527-v-sekai-roadmap.html</link>
  <description><![CDATA[ 



<section id="v-sekai-roadmap-and-goals-2023-05-19" class="level1">
<h1>V-Sekai Roadmap and Goals 2023-05-19</h1>
<section id="metadata" class="level3">
<h3 class="anchored" data-anchor-id="metadata">Metadata</h3>
<ul>
<li>Status: accepted <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,lyuma,</li>
<li>Tags: V-Sekai,chatgpt4 summary,</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level3">
<h3 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h3>
<p>What is the V-Sekai Roadmap and Goals?</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level3">
<h3 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h3>
<p>The roadmap presented here is short-term.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level3">
<h3 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work with code, pseudo-code, mock-ups, or diagrams</h3>
<pre class="mermaid"><code>graph LR
  subgraph Short Term
    A[May 16th, 2023] --&gt; D[Assist Godot Engine 4.1 features before May 30th feature freeze]
    D --&gt; E[Vrm upload to the asset library after May 30th, 2023]
    F --&gt; G[Unidot Unity Import upload to the asset library after May 30th, 2023]
    G --&gt; H[Add jitter buffer to godot_speech]
    H --&gt; I[Implement onevoip]
  end</code></pre>
</section>
<section id="positive-consequences" class="level3">
<h3 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h3>
<p>We can create V-Sekai easier.</p>
</section>
<section id="negative-consequences" class="level3">
<h3 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h3>
<p>Overhead might be hard.</p>
</section>
<section id="option-graveyard" class="level3">
<h3 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h3>
<ul>
<li>Implementing a custom voice chat solution instead of using onevoip</li>
<li>Waiting for Godot Engine 4.2 instead of assisting with 4.1 features</li>
<li>Ignoring SkeletonIK3D issues and focusing on other aspects</li>
</ul>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level3">
<h3 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h3>
<p>No.&nbsp;This is a process.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level3">
<h3 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h3>
<p>This is a core process for V-Sekai.</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230527-v-sekai-roadmap.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230527-server-sidecar.html</link>
  <description><![CDATA[ 



<section id="efficiently-managing-and-synchronizing-game-data-with-a-server-sidecar" class="level1">
<h1>Efficiently managing and synchronizing game data with a server sidecar</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: proposed</li>
<li>Deciders: V-Sekai, fire,</li>
<li>Tags: V-Sekai, GPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>V-Sekai is facing a problem with efficiently managing and synchronizing data across multiple devices and platforms.</p>
<p>The goal is to find a more reliable and efficient solution for data synchronization that can handle large amounts of data, minimize latency, and ensure data consistency across all devices and platforms.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>We propose a new approach that involves directly inserting MVSQLite data into a local SQLite database and implementing a robust syncing mechanism to ensure data consistency across all devices and platforms.</p>
<ol type="1">
<li>Modify the editor export process to stream MVSQLite to the Godot Engine server.</li>
<li>Schedule externally consistent syncing of MVSQLite with the Godot Engine server (1 frame).</li>
<li>Schedule periodic syncing of MVSQLite to a backup (e.g., every 30 minutes).</li>
</ol>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<pre class="gdscript"><code># Step 1: Insert MVSQLite data directly into the MVSQLite database.
func insert_data_to_database():
    var mvsqlite_data = get_mvsqlite_data()
    var db = MVSQLite.new()
    db.open("user://your_database_name.db")
    for data in mvsqlite_data:
        db.execute("INSERT INTO your_table_name (column1, column2) VALUES (?, ?)", [data.column1, data.column2])
    db.close()

# Step 2: Schedule externally consistent syncing of MVSQLite with the SQLite database (1 frame).
func _process(delta):
    if should_sync():
        insert_data_to_database()

# Step 3: Schedule periodic syncing of MVSQLite to a backup (e.g., every 30 minutes).
var backup_timer = Timer.new()
func _ready():
    backup_timer.set_wait_time(1800) # 30 minutes in seconds
    backup_timer.connect("timeout", self, "_on_backup_timer_timeout")
    add_child(backup_timer)
    backup_timer.start()

func _on_backup_timer_timeout():
    insert_data_to_database()

# Helper functions
func get_mvsqlite_data():
    # Placeholder for obtaining MVSQLite data from the project
    pass

func should_sync():
    # Placeholder for determining when to sync MVSQLite data with the SQLite database
    pass</code></pre>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Improved data management and performance.</li>
<li>Enhanced security through server validation and sanitization.</li>
<li>Reduced load on the client-side.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Increased complexity in the system architecture.</li>
<li>Potential challenges in implementing the new architecture.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option Graveyard</h2>
<ol type="1">
<li><strong>Client-side caching</strong>: Storing data on the client-side to reduce server load. However, this approach can lead to security vulnerabilities and inconsistent data across clients.</li>
<li><strong>Static file export</strong>: Exporting data as static files instead of using MVSQLite. This option was rejected due to limited flexibility and scalability.</li>
<li><strong>Dedicated database server</strong>: Setting up a dedicated database server for V-Sekai. While this could improve performance, it would also increase the complexity and maintenance costs of the system.</li>
</ol>
<p>These options were considered but ultimately rejected in favor of the proposed solution, which aims to balance performance, security, and maintainability.</p>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>The proposed enhancement is designed to address core limitations in V-Sekai’s architecture and cannot be easily worked around with a few lines of script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Implementing this solution at the core level ensures that all users benefit from improved data management, performance, and security. Additionally, addressing these limitations at the core level allows for better integration with other components of the system.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230527-server-sidecar.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230527-server-side-content-validation.html</link>
  <description><![CDATA[ 



<section id="implement-server-side-content-validation-export-followed-by-a-sanitization-service-and-cdn-support" class="level1">
<h1>Implement server-side content validation export followed by a sanitization service and CDN support</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: proposed</li>
<li>Deciders: V-Sekai, fire,</li>
<li>Tags: V-Sekai, GPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>V-Sekai is a virtual world platform that allows users to create and share content. However, there are limitations in terms of content validation and distribution, which can lead to potential security risks and slow content delivery.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>Implement server-side validation export followed by a sanitization service and integrate with a Content Delivery Network (CDN) for efficient content distribution.</p>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li><strong>Server-side validation</strong>: Develop a server-side validation system that checks the uploaded content for any malicious code or vulnerabilities.</li>
<li><strong>Sanitization service</strong>: Implement a sanitization service that cleanses the content from any harmful elements before it’s distributed.</li>
<li><strong>CDN integration</strong>: Integrate the platform with a CDN to ensure fast and reliable content delivery to users worldwide.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Enhanced security: Server-side validation and sanitization will help prevent malicious content from being distributed.</li>
<li>Improved performance: CDN integration will speed up content delivery and provide a better user experience.</li>
<li>Scalability: The proposed solution will allow the platform to handle increased traffic and content uploads efficiently.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Increased development time: Implementing the proposed solution may require additional development time and resources.</li>
<li>Maintenance: Ongoing maintenance of the server-side validation, sanitization service, and CDN integration will be required.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<ul>
<li>Client-side validation only: This option was discarded due to its limited effectiveness in preventing malicious content distribution.</li>
<li>No CDN integration: This option was discarded as it would not address the issue of slow content delivery.</li>
</ul>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, the proposed solution requires a more comprehensive approach to ensure secure and efficient content distribution.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, implementing server-side validation, sanitization service, and CDN integration is essential for maintaining the platform’s security and providing a seamless user experience. These features should be part of the core functionality to ensure consistent performance and reliability.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://en.wikipedia.org/wiki/Content_delivery_network">Content Delivery Network (CDN)</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230527-server-side-content-validation.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230527-server-cdn-session-url.html</link>
  <description><![CDATA[ 



<section id="handling-access-to-session-based-game-data" class="level1">
<h1>Handling access to session based game data</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: proposed</li>
<li>Deciders: V-Sekai</li>
<li>Tags: V-Sekai, GPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>V-Sekai is facing limitations in handling large amounts of data efficiently and securely. The current system needs improvements in data management, performance, and security.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>Assigning session IDs and URLs to every asset to improve data management, performance, and security.</p>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li>Generate unique session IDs and URLs for each asset.</li>
<li>Store the session IDs and URLs in a secure database.</li>
<li>Use the session IDs and URLs for accessing and managing assets.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Improved data management through unique identifiers for each asset.</li>
<li>Enhanced security by using session IDs and URLs for access control.</li>
<li>Better performance due to efficient asset management.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Increased complexity in the system architecture.</li>
<li>Potential challenges in implementing and maintaining unique session IDs and URLs.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<ol type="1">
<li><strong>Caching assets locally</strong>: This option was considered for improving performance, but it would not address data management and security concerns.</li>
<li><strong>Using a centralized server for asset management</strong>: This approach could improve data management but might introduce single points of failure and potential bottlenecks in performance.</li>
<li><strong>Encrypting all assets</strong>: While this would enhance security, it would not address data management issues and could negatively impact performance due to the overhead of encryption and decryption processes.</li>
</ol>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this enhancement requires significant changes to the system architecture and cannot be achieved with a simple script workaround.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, this enhancement addresses core limitations in the V-Sekai system and should be implemented by the V-Sekai team to ensure proper integration and compatibility with existing components.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230527-server-cdn-session-url.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230527-proposal-template.html</link>
  <description><![CDATA[ 



<section id="propose-a-possible-solution-to-solve-a-v-sekai-limitation" class="level1">
<h1>Propose a possible solution to solve a V-Sekai limitation</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai</li>
<li>Tags: V-Sekai, GPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230527-proposal-template.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230525-animation-ik-node.html</link>
  <description><![CDATA[ 



<section id="convert-ik-solvers-to-be-using-the-animationtree" class="level1">
<h1>Convert IK solvers to be using the AnimationTree</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: proposed</li>
<li>Deciders: V-Sekai, fire,</li>
<li>Tags: V-Sekai, GPT-4</li>
</ul>
</section>
<section id="project" class="level2">
<h2 class="anchored" data-anchor-id="project">Project</h2>
<p>As part of the V-Sekai project we’re working on virtual worlds and avatars usable for all.</p>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>There is no robust, and production quality inverse kinematic solver for full body tracking virtual reality tracking and other inverse kinematic uses like foot planting and hand grabbing.</p>
<p>In addition to the limitations of the current IK system due to its implementation as a SkeletonIK3D node, the IK system can be improved by reimplementing it as an animation node. This can address these limitations and improve the overall functionality.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<ol type="1">
<li>Reimplement the IK system as an animation node to gain better control over the processing order, ensure accurate pose states.</li>
<li>Reuse the track filtering code that exists in the AnimationTree system to enhance the new IK system’s capabilities.</li>
</ol>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<p>In order to improve the Inverse Kinematics (IK) system, we will replace SkeletonIK3D with a new custom AnimationNode called <code>IKAnimationNode</code>. This new node will ensure accurate pose states and provide precise control over the IK system.</p>
<p>To enhance the blending between animations and handle IK more efficiently, we will reuse track filtering code from the existing AnimationTree. This will allow for smoother transitions and better performance.</p>
<p>Next, we will implement the IK solver within the new <code>IKAnimationNode</code>. This solver will be responsible for calculating target positions and rotations for each bone in the skeleton.</p>
<p>After implementing the IK solver, we will update the AnimationTree to use the new <code>IKAnimationNode</code>. This will involve adding an empty track, reading from the transform’s position, and blending between different animations to create seamless motion.</p>
<p>As we develop this new IK system, it is crucial to address potential issues such as filter usability, duplicate subtrees versus multiple outputs, and designing a reasonable full body setup. This includes handling jumping and foot IK interactions with the ground.</p>
<p>Finally, we will test and optimize the new IK system to ensure correct functionality and optimal performance. This will result in a more robust and efficient IK solution for our animation needs.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Improved control over the processing order of the IK system.</li>
<li>Accurate pose states for better animation quality.</li>
<li>Potential performance improvements by executing the animation tree outside of the main thread.</li>
<li>Enhanced capabilities of the new IK system by reusing the track filtering code.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Increased complexity in the animation system.</li>
<li>Possible compatibility issues with existing projects.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<ol type="1">
<li>Keeping the current SkeletonIK3D node and trying to improve its functionality.</li>
<li>Implementing a custom IK solver without reusing the track filtering code from the AnimationTree system.</li>
<li>Using third-party IK solvers instead of developing an in-house solution.</li>
</ol>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, the enhancement involves a significant change in the IK system’s implementation and cannot be easily worked around with a script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, addressing the limitations of the current IK system is crucial for improving V-Sekai’s functionality and providing a better experience for users.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li>ManyBoneIK3D (mentioned for reference purposes only)</li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230525-animation-ik-node.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230523-marketing-cycle.html</link>
  <description><![CDATA[ 



<section id="improve-v-sekai-marketing" class="level1">
<h1>Improve V-Sekai marketing</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: draft <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai</li>
<li>Tags: V-Sekai, GPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>V-Sekai is a virtual world platform that allows users to create, explore, and interact with others in various immersive environments.</p>
<p>V-Sekai is facing a limitation in its marketing efforts. The challenge is to find a way to make marketing more manageable and effective for V-Sekai.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<ol type="1">
<li>Strategy</li>
<li>Positioning</li>
<li>Messaging</li>
<li>Experimentation</li>
</ol>
<p>The first three steps are initial preparations that create a strong foundation for marketing efforts. The fourth step, Experimentation, is a recurring process that helps us continuously improve our marketing strategies.</p>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<section id="step-1-strategy" class="level3">
<h3 class="anchored" data-anchor-id="step-1-strategy">Step 1: Strategy</h3>
<p>Define the overall marketing strategy by identifying target audiences, setting goals, and determining the best channels to reach potential customers.</p>
</section>
<section id="step-2-positioning" class="level3">
<h3 class="anchored" data-anchor-id="step-2-positioning">Step 2: Positioning</h3>
<p>Establish a unique selling proposition (USP) that sets the product or service apart from competitors. This will help potential customers understand why they should choose the offering over others in the market.</p>
</section>
<section id="step-3-messaging" class="level3">
<h3 class="anchored" data-anchor-id="step-3-messaging">Step 3: Messaging</h3>
<p>Develop clear and compelling messaging that communicates the USP and resonates with the target audience. This messaging should be consistent across all marketing channels.</p>
</section>
<section id="step-4-experimentation" class="level3">
<h3 class="anchored" data-anchor-id="step-4-experimentation">Step 4: Experimentation</h3>
<p>Conduct regular experiments to test and refine marketing tactics. This can include A/B testing, trying new channels, or adjusting messaging. Analyze the results of these experiments and use the insights gained to improve future marketing efforts.</p>
</section>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Improved marketing effectiveness for V-Sekai</li>
<li>Better time management and prioritization of tasks</li>
<li>Increased revenue and business growth</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Potential initial time investment in setting up the marketing habit</li>
<li>Possible resistance to change or adopting new habits</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<p>Do nothing.</p>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this marketing strategy is a comprehensive marketing approach that requires ongoing commitment and cannot be replaced by a simple script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, as the creators and maintainers of V-Sekai, we have the best understanding of our product and target audience. By taking charge of our marketing efforts, we can ensure that our messaging and strategies align with our goals and vision, ultimately leading to better results.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://2quiet2market.com">Material from 2quiet2market</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230523-marketing-cycle.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230522-godot-engine-ipad.html</link>
  <description><![CDATA[ 



<section id="build-a-macos-editor-for-the-ipad" class="level1">
<h1>Build a MacOS editor for the iPad</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: proposed</li>
<li>Deciders: V-Sekai</li>
<li>Tags: V-Sekai, GPT-4, MacOS, iPad</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>We have successfully tested a MacOS editor on the iPhone in February 2023. Now, we want to build a similar editor for the iPad so that people can upload game worlds and avatars from a tablet.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<ol type="1">
<li>Adapt the existing MacOS editor codebase for the iPad.</li>
<li><del>Ensure that the user interface is optimized for the larger screen size of the iPad.</del></li>
<li>Test the application on various iPad models to ensure compatibility and performance.</li>
</ol>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li>Clone the existing iPhone Godot Engine editor repository.</li>
<li>Create a new branch for the iPad version.</li>
<li><del>Modify the user interface to accommodate the larger screen size of the iPad.</del></li>
<li><del>Update any device-specific code to support the iPad.</del></li>
<li>Test the application on different iPad models and fix any issues found during testing.
<ol type="1">
<li>Install Xcode.</li>
<li>Generate certificates</li>
<li>Upload the Godot Engine iPad build to the iPad.</li>
</ol></li>
<li>Merge the iPad branch back into the main branch once the application is stable and fully functional.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Expanding the availability of the MacOS editor to iPad users.</li>
<li><del>Leveraging the larger screen size of the iPad for an improved editing experience.</del></li>
<li>Reusing the existing codebase, reducing development time and effort.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Additional development and testing efforts required to support another platform.</li>
<li>Potential maintenance overhead due to supporting multiple platforms.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<ul>
<li>Developing a separate iPad-only application from scratch.</li>
<li>Using web-based editor solutions instead of a native app.</li>
<li>Implementing a remote desktop solution to access a MacOS editor on a different device.</li>
<li>Porting the MacOS editor to a cross-platform framework, potentially sacrificing performance and native features.</li>
</ul>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this enhancement requires significant changes to the existing codebase to properly support the iPad.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, as the maintainers of Godot Engine, we have the expertise and knowledge of the codebase to efficiently adapt it for the iPad.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://github.com/V-Sekai/godot/tree/groups-4.x-ios">iPad fork of of Godot Engine</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230522-godot-engine-ipad.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230522-JOKE-fictional-blood-combat.html</link>
  <description><![CDATA[ 



<section id="defeating-your-fictional-enemies-in-their-blood" class="level1">
<h1>Defeating your fictional enemies in their blood</h1>
<p>Propose a solution to enhance realism in enemy defeat simulations.</p>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: rejected <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai</li>
<li>Tags: V-Sekai, GPT-4, joke,</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Gaming often involves defeating enemies, but current blood effects lack realism and immersion.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>Implement a realistic blood simulation system considering factors like enemy type, weapon, and environment.</p>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li><strong>Blood simulation system</strong>: Develop a system generating realistic blood effects.</li>
<li><strong>Integration</strong>: Ensure compatibility with existing game mechanics.</li>
<li><strong>Optimization</strong>: Minimize performance impact.</li>
<li><strong>Testing &amp; refinement</strong>: Test extensively and refine based on feedback.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Enhanced realism and immersion</li>
<li>Improved visual effects</li>
<li>Increased player satisfaction</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Increased development time and resources</li>
<li>Potential performance issues</li>
<li>Unsuitability for some games or audiences</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<ul>
<li>Simpler blood effect system</li>
<li>Pre-rendered blood effects only</li>
</ul>
</section>
<section id="script-workaround" class="level2">
<h2 class="anchored" data-anchor-id="script-workaround">Script workaround?</h2>
<p>No, significant development effort is required.</p>
</section>
<section id="core-implementation-rationale" class="level2">
<h2 class="anchored" data-anchor-id="core-implementation-rationale">Core implementation rationale</h2>
<p>Easier integration, optimization, control, and refinement as part of the core game engine.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230522-JOKE-fictional-blood-combat.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230521-audio-jitter-buffer-voip.html</link>
  <description><![CDATA[ 



<section id="improving-jitter-buffer-implementation-for-voice-chat-in-v-sekai-projects" class="level1">
<h1>Improving Jitter-Buffer Implementation for Voice Chat in V-Sekai Projects</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: proposed</li>
<li>Deciders: V-Sekai, lyuma, Dreadpon,</li>
<li>Tags: V-Sekai, GPT-4, jitter-buffer, voice-chat, godot-speech, audio-quality, adaptive-jitter-buffer, Speex</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Dreadpon is working on a voice chat solution inside Godot 3.5.2 and found the jitter-buffer implementation in <a href="https://github.com/V-Sekai/godot-speech">godot-speech</a> to be rudimentary. They are looking for an ideal jitter-buffer implementation that can handle both slowing down and speeding up played audio.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>Use the adaptive jitter buffer from the Speex source code as a starting point, with modifications to address its limitations:</p>
<ol type="1">
<li>Capture packets as they are being dropped from the jitter buffer.</li>
<li>Ensure all captured packets are played.</li>
<li>Implement a playback buffer to speed up the audio when necessary.</li>
</ol>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li>Integrate the adaptive jitter buffer from the Speex source code into the godot-speech project.</li>
<li>Modify the jitter buffer to capture dropped packets and store them in a separate buffer.</li>
<li>Implement a playback buffer that accelerates audio playback when more audio packets are available.</li>
<li>Test the new implementation to ensure it handles jitter compensation effectively.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Improved jitter compensation in the voice chat solution.</li>
<li>Better handling of packet drops and audio acceleration.</li>
<li>Enhanced overall audio quality in the voice chat system.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Additional complexity in the godot-speech codebase.</li>
<li>Potential performance impact due to the added buffering mechanism.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<ul>
<li>Continue using the current rudimentary jitter-buffer implementation in godot-speech.</li>
</ul>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this enhancement is essential for a high-quality voice chat solution and cannot be easily worked around with a few lines of script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, improving the jitter-buffer implementation is crucial for providing a reliable and high-quality voice chat experience in V-Sekai projects.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://github.com/V-Sekai/godot-speech">godot-speech</a></li>
<li><a href="https://www.speex.org/">Speex</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230521-audio-jitter-buffer-voip.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230519-v-sekai-roadmap.html</link>
  <description><![CDATA[ 



<section id="v-sekai-roadmap-and-goals-2023-05-19" class="level1">
<h1>V-Sekai Roadmap and Goals 2023-05-19</h1>
<section id="metadata" class="level3">
<h3 class="anchored" data-anchor-id="metadata">Metadata</h3>
<ul>
<li>Status: superseded by <code>20230527-v-sekai-roadmap.md</code> <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,lyuma,</li>
<li>Tags: V-Sekai,chatgpt4 summary,</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level3">
<h3 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h3>
<p>What is the V-Sekai Roadmap and Goals?</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level3">
<h3 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h3>
<p>The roadmap presented here is short-term.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level3">
<h3 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work with code, pseudo-code, mock-ups, or diagrams</h3>
<pre class="mermaid"><code>graph LR
  subgraph Short Term
    A[May 16th, 2023] --&gt; C[Assist Tokageit with Godot Engine 4.1 features before May 30th feature freeze]
    B --&gt; D[Assist Godot Engine 4.1 features before May 30th feature freeze]
    C --&gt; E
    D --&gt; E[Vrm upload to the asset library after May 30th, 2023]
    E --&gt; F[Unidot fix import bugs that blocked assets import]
    F --&gt; G[Unidot Unity Import upload to the asset library after May 30th, 2023]
    G --&gt; H[Implement onevoip]
  end</code></pre>
</section>
<section id="positive-consequences" class="level3">
<h3 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h3>
<p>We can create V-Sekai easier.</p>
</section>
<section id="negative-consequences" class="level3">
<h3 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h3>
<p>Overhead might be hard.</p>
</section>
<section id="option-graveyard" class="level3">
<h3 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h3>
<ul>
<li>Implementing a custom voice chat solution instead of using onevoip</li>
<li>Waiting for Godot Engine 4.2 instead of assisting with 4.1 features</li>
<li>Ignoring SkeletonIK3D issues and focusing on other aspects</li>
</ul>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level3">
<h3 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h3>
<p>No.&nbsp;This is a process.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level3">
<h3 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h3>
<p>This is a core process for V-Sekai.</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230519-v-sekai-roadmap.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230519-add-vrm-omi-personality-gltf-extension.html</link>
  <description><![CDATA[ 



<section id="add-vrm-portable-avatars-and-omi_personality-to-the-gltf-transform-tool" class="level1">
<h1>Add VRM portable avatars and OMI_personality to the GLTF Transform tool</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai</li>
<li>Tags: V-Sekai, GPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>We want to use OMI_personality, but it needs to be injected into a VRM file by tooling like GLTF Transform and GLTF Transform needs to know completely the VRM0 and VRM1 specification.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<ol type="1">
<li>Study and understand the VRM0 and VRM1 specifications.</li>
<li>Implement support for VRM portable avatars in GLTF Transform.</li>
<li>Add functionality to add OMI_personality into VRM files using GLTF Transform.</li>
</ol>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<section id="research-and-analyze-the-vrm0-and-vrm1-specifications" class="level3">
<h3 class="anchored" data-anchor-id="research-and-analyze-the-vrm0-and-vrm1-specifications">1. Research and analyze the VRM0 and VRM1 specifications</h3>
<ul>
<li>Review the official VRM documentation and specifications.</li>
<li>Identify key components and features required for supporting VRM portable avatars in GLTF Transform.</li>
</ul>
</section>
<section id="develop-a-new-extension-for-gltf-transform-that-supports-vrm-portable-avatars" class="level3">
<h3 class="anchored" data-anchor-id="develop-a-new-extension-for-gltf-transform-that-supports-vrm-portable-avatars">2. Develop a new extension for GLTF Transform that supports VRM portable avatars</h3>
<ul>
<li>Design and implement a new extension for GLTF Transform that can handle VRM portable avatars.
<ul>
<li>Enable “.vrm” io reads</li>
<li>Write a plugin that increases the VRM version by one.</li>
</ul></li>
<li>Ensure compatibility with existing GLTF Transform features and extensions.</li>
</ul>
</section>
<section id="extend-the-cli-configuration-to-allow-injecting-omi_personality-into-vrm-files" class="level3">
<h3 class="anchored" data-anchor-id="extend-the-cli-configuration-to-allow-injecting-omi_personality-into-vrm-files">3. Extend the CLI configuration to allow injecting OMI_personality into VRM files</h3>
<ul>
<li>Modify the CLI configuration to accept OMI_personality data as input.</li>
<li>Implement functionality to add OMI_personality data into VRM files using the new extension.</li>
</ul>
</section>
<section id="test-the-implementation-with-various-vrm-files-and-omi_personality-configurations" class="level3">
<h3 class="anchored" data-anchor-id="test-the-implementation-with-various-vrm-files-and-omi_personality-configurations">4. Test the implementation with various VRM files and OMI_personality configurations</h3>
<ul>
<li>Create test cases with different VRM files and OMI_personality configurations.</li>
<li>Verify the correct injection of OMI_personality data into VRM files.</li>
<li>Ensure compatibility with other GLTF Transform features and extensions.</li>
</ul>
</section>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Support for VRM portable avatars in GLTF Transform.</li>
<li>Ability to inject OMI_personality into VRM files.</li>
<li>Increased adoption of GLTF Transform for VRM-related projects.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Additional development and maintenance effort required for the new extension.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<p>N/A</p>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this enhancement requires a deeper integration with GLTF Transform and understanding of the VRM specifications.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, implementing this feature will provide a valuable addition to the GLTF Transform tool and cater to the growing VRM community.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li>For an example similar to KHR_lights_punctual, refer to <a href="https://github.com/donmccurdy/glTF-Transform/blob/main/packages/extensions/src/khr-lights-punctual/lights-punctual.ts">this implementation</a>.</li>
<li>No known design for VRM glTF_transform. However, there are two npm packages by <a href="https://www.npmjs.com/~quantumcraft">quantumcraft</a> that deal with VRM data, but they’re not open source.</li>
<li>The glTF Transform CLI allows specifying a config file, which can register additional glTF extensions and CLI functionality. Check out the <a href="https://gltf-transform.donmccurdy.com/cli-configuration">CLI configuration documentation</a>. Needle Tools has been trying this approach for NEEDLE_* extensions.</li>
<li><a href="https://github.com/omigroup/gltf-extensions/tree/main/extensions/2.0/OMI_personality">OMI_personality</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230519-add-vrm-omi-personality-gltf-extension.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230516-v-sekai-roadmap.html</link>
  <description><![CDATA[ 



<section id="v-sekai-roadmap-and-goals-2023-05-16" class="level1">
<h1>V-Sekai Roadmap and Goals 2023-05-16</h1>
<section id="metadata" class="level3">
<h3 class="anchored" data-anchor-id="metadata">Metadata</h3>
<ul>
<li>Status: superseded by <code>20230519-v-sekai-roadmap.md</code> <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,lyuma,</li>
<li>Tags: V-Sekai,chatgpt4 summary,</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level3">
<h3 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h3>
<p>What is the V-Sekai Roadmap and Goals?</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level3">
<h3 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h3>
<p>The roadmap presented here is short-term.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level3">
<h3 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work with code, pseudo-code, mock-ups, or diagrams</h3>
<pre class="mermaid"><code>graph LR
  subgraph Short Term
    A[May 16th, 2023] --&gt; B[Solving SkeletonIK3D before May 30th. Will literally debug the two implementations in lockstep.]
    B --&gt; C[Assist Tokageit with Godot Engine 4.1 features before May 30th feature freeze]
    B --&gt; D[Assist Godot Engine 4.1 features before May 30th feature freeze]
    C --&gt; E
    D --&gt; E[Vrm upload to the asset library after May 30th, 2023]
    E --&gt; F[Unidot fix import bugs that blocked assets import]
    F --&gt; G[Unidot Unity Import upload to the asset library after May 30th, 2023]
    G --&gt; H[Implement onevoip]
  end</code></pre>
</section>
<section id="positive-consequences" class="level3">
<h3 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h3>
<p>We can create V-Sekai easier.</p>
</section>
<section id="negative-consequences" class="level3">
<h3 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h3>
<p>Overhead might be hard.</p>
</section>
<section id="option-graveyard" class="level3">
<h3 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h3>
<ul>
<li>Implementing a custom voice chat solution instead of using onevoip</li>
<li>Waiting for Godot Engine 4.2 instead of assisting with 4.1 features</li>
<li>Ignoring SkeletonIK3D issues and focusing on other aspects</li>
</ul>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level3">
<h3 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h3>
<p>No.&nbsp;This is a process.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level3">
<h3 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h3>
<p>This is a core process for V-Sekai.</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230516-v-sekai-roadmap.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230516-create-an-aquarium-nightclub-booth-for-virtual-market.html</link>
  <description><![CDATA[ 



<section id="aquarium-nightclub-booth-for-virtual-market-exhibition" class="level1">
<h1>Aquarium Nightclub Booth for Virtual Market Exhibition</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: accepted <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai, fire, ect, Aeris, cyberpunkmermaid,</li>
<li>Tags: V-Sekai, GPT-4, Virtual Reality, Cocoon Art Aquarium, VKET 2023 Summer, Voiceless,</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Design a 4m x 4m x 5m Aquarium Nightclub themed booth.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>Create an immersive environment combining aquarium and nightclub elements, including aquatic decorations, lighting, interactivity, a hostess, and ambient music.</p>
<section id="key-features" class="level3">
<h3 class="anchored" data-anchor-id="key-features">Key Features</h3>
<ol type="1">
<li><strong>Aquatic-themed decorations</strong>: Use 3D models of marine life, such as fish, corals, and seaweed, to create a colourful underwater environment.</li>
<li>Implement the ambience of a nightclub.</li>
<li><strong>Interactive elements</strong>: Add interactive components, such as touch-sensitive screens or motion sensors, to allow visitors to interact with the marine life and control the lighting effects.</li>
<li><strong>Jellyfish Hostess</strong>:
<ul>
<li><strong>JellyBell</strong>: Enchanting hostess engaging visitors in the booth experience.</li>
<li><strong>Iridescent Gown</strong>: Amplifies her aquatic charm with sheer fabric and ribbons</li>
</ul></li>
<li><strong>Ambient music</strong>: Include background music that complements the aquarium and nightclub themes.</li>
</ol>
</section>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li>Design and model 3D assets.</li>
<li>Implement interactive elements.</li>
<li>Add hostess character.</li>
<li>Integrate ambient music.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Unique and engaging theme attracts visitors.</li>
<li>Immersive experience combines education and entertainment.</li>
<li>Encourages interaction and exploration.</li>
<li>Hostess enhances visitor engagement.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Requires significant development time and resources.</li>
<li>Balancing two themes may be challenging.</li>
<li>Integrating dynamic lighting and shaders may require extra effort.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option Graveyard</h2>
<ul>
<li>Static environment without interactivity.</li>
<li>Focusing on one theme only.</li>
</ul>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, requires significant design and development work.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Creating a unique booth is essential for attracting visitors and showcasing VR development capabilities.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://event.vket.com/en/2023Summer/world/11">VKET 2023 Summer</a></li>
<li><a href="https://gitlab.com/s-ilent/SCSS/-/tree/master/Assets/Silent's%20Cel%20Shading%20Shader">Silent’s Cel Shading Shader</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230516-create-an-aquarium-nightclub-booth-for-virtual-market.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230516-additional-3d-import.html</link>
  <description><![CDATA[ 



<section id="additional-3d-import-functionality" class="level1">
<h1>Additional 3D Import Functionality</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: rejected <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,</li>
<li>Tags: V-Sekai,ChatGPT-4,AI_assistance</li>
</ul>
</section>
<section id="propose-a-possible-solution-to-solve-a-v-sekai-limitation.-if-this-doesnt-look-right-choose-a-different-type." class="level2">
<h2 class="anchored" data-anchor-id="propose-a-possible-solution-to-solve-a-v-sekai-limitation.-if-this-doesnt-look-right-choose-a-different-type.">Propose a possible solution to solve a V-Sekai limitation. If this doesn’t look right, choose a different type.</h2>
<p>Improve the 3D import functionality in Godot Engine for V-Sekai by enhancing the existing import process and adding support for more file formats.</p>
<p><strong><em>This proposal is rejected because it doesn’t improve the 3D import functionality compared to its effort</em></strong></p>
</section>
<section id="metadata-1" class="level2">
<h2 class="anchored" data-anchor-id="metadata-1">Metadata</h2>
<ul>
<li>Status: proposed</li>
<li>Deciders: V-Sekai</li>
<li>Tags: V-Sekai, GPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>V-Sekai has implemented <code>.fbx</code> and <code>.gltf</code> 3D import, and <code>.obj</code> is already part of Godot Engine. However, there is still room for improvement in the import process and support for additional file formats. The current Blender importer for Godot Engine 4.0 requires an additional installation and injects a Python script into Blender.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<ol type="1">
<li>Develop an addon that can simultaneously export colliders, occluders, and LOD variants for a given mesh without requiring an additional Blender importer.</li>
<li>Enhance the existing import process by providing better error handling, reporting, and automatic fixes for common issues.</li>
<li>Improve the performance of the import process, especially for large and complex 3D models.</li>
</ol>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li>Create an addon that automatically searches for and sets Geometry Nodes input constants with relevant names (e.g., <code>is_occluder</code>, <code>is_collider</code>, and <code>LOD</code>) while exporting, giving modelers maximum flexibility on how different versions of a mesh should be exported. This addon should not require an additional Blender importer or Python script injection.</li>
<li>Update the import pipeline to handle errors gracefully and provide helpful feedback to users.</li>
<li>Optimize the import process by implementing caching, parallel processing, and other performance improvements.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ol type="1">
<li>Users will have more control over the export process, allowing them to easily manage colliders, occluders, and LOD variants without needing an additional Blender importer.</li>
<li>The improved import process will reduce the time spent on fixing import-related issues.</li>
<li>Faster import times will lead to a smoother development experience.</li>
</ol>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ol type="1">
<li>Developing an addon may require additional resources and maintenance.</li>
<li>There might be potential licensing issues with integrating third-party libraries.</li>
</ol>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option Graveyard</h2>
<ol type="1">
<li>Relying solely on community plugins for additional import functionality.</li>
<li>Limiting support to only a few popular file formats.</li>
</ol>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this enhancement addresses a core limitation in the engine and requires significant changes to the import pipeline.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, improving the 3D import functionality is essential for providing a better user experience and supporting a wider range of 3D modeling tools. It also ensures that V-Sekai remains competitive with other game engines.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230516-additional-3d-import.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230509-wasm-data-exchange.html</link>
  <description><![CDATA[ 



<section id="exchange-data-between-godot-engine-and-wasm-using-handles" class="level1">
<h1>Exchange data between Godot Engine and WASM using handles</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: draft <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai, fire, lyuma, ashtonmeuser</li>
<li>Tags: V-Sekai, ChatGPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>V-Sekai faces a limitation in sending complex data types between the Godot Engine and WebAssembly (WASM) modules. Simple Variant types can be marshalled or copied onto the stack, but arrays, dictionaries, and Object types require a more efficient approach.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>Implement a handle-based approach for managing complex data types. Allocate handles, possibly reference counted, allowing the WASM guest to pass integers around to all the Godot APIs. This will enable efficient communication between the host side and the WASM guest.</p>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li>Design a handle-based system for managing complex data types.</li>
<li>Implement reference counting for allocated handles.</li>
<li>Add Godot APIs to accept integer handles instead of direct object references.</li>
<li>Test the new implementation with various data types and scenarios.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Efficient communication between the host side and the WASM guest.</li>
<li>Improved performance when dealing with complex data types.</li>
<li>Simplified API usage for developers.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Additional complexity in the implementation.</li>
<li>Potential overhead due to reference counting.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<p>N/A</p>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this enhancement addresses a core limitation and requires changes to the underlying system.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, this enhancement improves the efficiency and usability of the V-Sekai platform, making it more attractive to developers and users.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://docs.godotengine.org/en/stable/classes/class_streampeer.html">Godot Engine StreamPeer</a></li>
<li><a href="https://github.com/ashtonmeuser/godot-wasm">Godot Engine Wasm</a></li>
<li><a href="https://github.com/V-Sekai/wasgo">Godot Engine WasGo</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230509-wasm-data-exchange.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230508-novel-3d-views.html</link>
  <description><![CDATA[ 



<section id="convert-segmented-front-facing-3d-garment-images-to-novel-3d-views-for-3d-modelling" class="level1">
<h1>Convert segmented front facing 3D Garment images to novel 3d views for 3d modelling</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: draft <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai, fire,</li>
<li>Tags: V-Sekai, ChatGPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>We want to create 3D models from a front-shot of the garment.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>Use Meta’s image segmentation model and zero123’s 3D reconstruction algorithm to generate novel 3D views of garments from a single front-shot image.</p>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li><p><strong>Preprocess the input image</strong>: Resize and normalize the input image to meet the requirements of Meta’s image segmentation model.</p></li>
<li><p><strong>Extract the garment using Meta’s image segmentation model</strong>:</p>
<ul>
<li>Load the pre-trained Meta’s image segmentation model.</li>
<li>Pass the preprocessed input image through the model to obtain the segmented garment image.</li>
</ul></li>
<li><p><strong>Prepare the segmented garment for 3D reconstruction</strong>:</p>
<ul>
<li>Load segmented garment image into zero123’s 3D novel view algorithm.</li>
</ul></li>
<li><p><strong>Apply zero123’s 3D reconstruction algorithm</strong>:</p>
<ul>
<li>Load the pre-trained zero123’s 3D reconstruction model.</li>
<li>Pass the prepared segmented garment image through the model to generate novel 3d views of the garment.</li>
</ul></li>
<li><p><strong>Generate novel 3D views of the garment</strong>:</p>
<ul>
<li>Rotate the 3D camera at intervals of 20 degrees around the garment to capture multiple 3D views.</li>
</ul></li>
<li><p><strong>Manually model the garment using views</strong>:</p>
<ul>
<li>Use a 3d design tool like Blender to create a mesh.</li>
</ul></li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Enhanced user experience with realistic 3D garment previews.</li>
<li>Improved understanding of garment fit and style.</li>
<li>Increased creator satisfaction.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Potential increase in computational resources required for processing.</li>
<li>Possible limitations in accuracy and quality of generated 3D models.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<ul>
<li>Using multiple images for 3D reconstruction (discarded due to not enough aligned input images for 3D construction).</li>
</ul>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this enhancement requires integration of advanced image segmentation and 3D reconstruction algorithms, which cannot be achieved with a simple script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, implementing this feature as part of our core project will improve our opensource community of creators.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230508-novel-3d-views.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230507-supabase.html</link>
  <description><![CDATA[ 



<section id="using-deno-to-handle-the-conversion-of-glb-files-to-godot-engine-packed-scenes" class="level1">
<h1>Using Deno to handle the conversion of GLB files to Godot Engine packed scenes</h1>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: rejected <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai</li>
<li>Tags: V-Sekai, ChatGPT-4</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>V-Sekai currently has a limitation in converting 3D models from the GLB format to the Godot Engine packed scene format. This conversion process is essential for seamless integration of 3D assets into the V-Sekai platform.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>Implement serverless edge functions using Deno to handle the conversion of GLB files to Godot Engine packed scenes and manage data storage and retrieval.</p>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li><strong>Wasm edge functions</strong>: Utilize WebAssembly (Wasm) to run the edge functions efficiently.</li>
<li><strong>Compute time estimation</strong>: Estimate the required compute time for the conversion process.</li>
<li><strong>Data storage</strong>: Set up a storage system for the converted Godot packed scenes.</li>
<li><strong>Table editing UI</strong>: Create a user interface for managing the stored Godot packed scenes.</li>
<li><strong>Edge Function use case</strong>: Implement the following serverless Deno functions:
<ul>
<li><code>glbToGodotPackedScene</code>: Convert a GLB file to a Godot packed scene and store it.</li>
<li><code>insertGodotPackedScene</code>: Insert a Godot packed scene into the V-Sekai server.</li>
<li><code>helloWorld</code>: Return a JSON object containing “Hello, World!” as a test function.</li>
</ul></li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Seamless integration of 3D assets into the V-Sekai platform.</li>
<li>Improved performance and reduced latency due to edge computing.</li>
<li>Scalable and maintainable architecture with serverless functions.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Additional complexity in setting up and managing serverless functions.</li>
<li>Potential increase in costs due to serverless architecture.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<p>Use the current process of editor upload.</p>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this enhancement is essential for the seamless integration of 3D assets into the V-Sekai platform and cannot be easily worked around with a simple script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, this feature is crucial for the V-Sekai platform’s functionality and user experience. Implementing it as a core feature ensures that it is well-integrated, maintainable, and scalable.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230507-supabase.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230507-distributed-sim.html</link>
  <description><![CDATA[ 



<section id="distributed-simulation" class="level1">
<h1>Distributed simulation</h1>
<section id="metadata" class="level3">
<h3 class="anchored" data-anchor-id="metadata">Metadata</h3>
<ul>
<li>Status: rejected <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,</li>
<li>Tags: V-Sekai,networking,</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level3">
<h3 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h3>
<p>Our project involves a distributed simulation system where maintaining strong consistency and efficient workload distribution are important requirements. We are currently facing the challenge of how to handle authority transfer and state updates between simulation servers without incurring high network hop counts and latency.</p>
<p>Someone invited me to a popular VR platform and gave me a 20-minute tour, just enough to learn how to in desktop mode create a world, import an object, and inspector-edit it. So I imported our celebration map, and the map loaded in 20 seconds. I was able to change its transform. I’m still thinking about that experience.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level3">
<h3 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h3>
<p>We propose to use a metadata system with Khepri instances and Raft consensus algorithm to manage ownership and mastership information for game entity nodes. Homeservers will manage metadata using their own Khepri instances within a Raft cluster, while simulation servers, including player simulation servers, will maintain game entity nodes they have authority over using their own Khepri instances.</p>
<p>Authority transfer will be initiated through the metadata Raft cluster when players interact with game entities governed by different simulation servers. The homeserver Khepri’s nested path-to-value structure will be updated based on the ownership and mastership rules set by the Master. State updates will be exchanged between old and new authority simulation servers or synchronized using a separate mechanism during authority transfer.</p>
<p>By monitoring the load on homeservers and simulation servers, we can balance the system and ensure fault tolerance using Raft’s mechanisms. As the number of game entity nodes and players grows, adding more homeservers to the metadata Raft cluster and more simulation servers will ensure efficient workload distribution and enhance the overall gaming experience.</p>
<p>We believe that this approach will provide strong consistency guarantees, access control, and scalability while minimizing network hop counts and latency for authority transfer and state updates between simulation servers.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level3">
<h3 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h3>
<section id="glossary-of-terms" class="level4">
<h4 class="anchored" data-anchor-id="glossary-of-terms">Glossary of terms</h4>
<ol type="1">
<li><strong>Homeserver</strong>: A server responsible for managing metadata, including ownership and mastership information for game entity nodes.</li>
<li><strong>Simulation server</strong>: A server responsible for containing game entity nodes it has authority over, including player simulation servers.</li>
<li><strong>Khepri</strong>: A tree-like replicated on-disk database library for Erlang and Elixir, used for maintaining a nested path-to-value store.</li>
<li><strong>Raft cluster</strong>: A cluster of servers implementing the Raft consensus algorithm to ensure strong consistency and fault tolerance.</li>
<li><strong>Ownership</strong>: The player who has control over a game entity and can change its state.</li>
<li><strong>Mastership</strong>: The authority that can change ownership rules and default ownership settings.</li>
<li><strong>Ask, Deny, Allow</strong>: Rules set by the Master for ownership transfer.</li>
</ol>
</section>
<section id="protocols" class="level4">
<h4 class="anchored" data-anchor-id="protocols">Protocols</h4>
<ul>
<li>Each type of server can only be Khepri members of the same type.</li>
<li>Each server can only allow be Khepri members of the same logical instance.</li>
<li>Raft is only active inside of each logical instance.</li>
<li>Homeserver servers are REST + JSON and the cheap pattern.</li>
<li>Simulation servers are using the nasty state transfer pattern</li>
</ul>
</section>
<section id="simulation-server-state-transfer-protocol" class="level4">
<h4 class="anchored" data-anchor-id="simulation-server-state-transfer-protocol">Simulation server state transfer protocol</h4>
<table class="table">
<colgroup>
<col style="width: 1%">
<col style="width: 98%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Player A’s simulation server sends a request to the home server to fetch the public key of Player B.</td>
</tr>
<tr class="even">
<td>2</td>
<td>The home server retrieves Player B’s public key from its database and sends it back to Player A’s simulation server.</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Player A’s simulation server uses Player B’s public key to encrypt a message or binary data.</td>
</tr>
<tr class="even">
<td>4</td>
<td>Player A’s simulation server signs the encrypted message or binary data using its own private key.</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Player A’s simulation server sends the encrypted message or binary data along with the digital signature to Player B’s simulation server using the membrane_udp_plugin.</td>
</tr>
<tr class="even">
<td>6</td>
<td>Player B’s simulation server receives the message and verifies the digital signature using Player A’s public key, which it retrieves from the home server.</td>
</tr>
<tr class="odd">
<td>7</td>
<td>If the signature is valid, Player B’s simulation server uses its own private key to decrypt the message and obtain the original data sent by Player A’s simulation server.</td>
</tr>
<tr class="even">
<td>8</td>
<td>If the message is confidential, Player B’s simulation server may want to send a response back to Player A’s simulation server using a similar protocol, with Player A’s public key retrieved from the home server.</td>
</tr>
</tbody>
</table>
<p>This table outlines the steps of the communication protocol between Player A and Player B’s simulation servers, which involves retrieving public keys from the home server’s database, encrypting and signing messages, and verifying digital signatures to ensure the authenticity of the messages. This protocol ensures secure and confidential communication between the two simulation servers, allowing for safe and reliable data exchange.</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode elixir code-with-copy"><code class="sourceCode elixir"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># EC examples</span></span>
<span id="cb1-2">alice_private_jwk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JOSE</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JWK</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>from_pem_file<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ec-secp256r1-alice.pem"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb1-3">alice_public_jwk  <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JOSE</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JWK</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>to_public<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">(</span>alice_private_jwk<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb1-4">bob_private_jwk   <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JOSE</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JWK</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>from_pem_file<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ec-secp256r1-bob.pem"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb1-5">bob_public_jwk    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JOSE</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JWK</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>to_public<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">(</span>bob_private_jwk<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## Encrypt and Decrypt (defaults to ECDH-ES with A128GCM)</span></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">### Alice sends Bob a secret message using Bob's public key and Alice's private key</span></span>
<span id="cb1-9">alice_to_bob <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"For Bob's eyes only."</span></span>
<span id="cb1-10">encrypted <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JOSE</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JWK</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>box_encrypt<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">(</span>alice_to_bob, bob_public_jwk, alice_private_jwk<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb1-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">### Only Bob can decrypt the message using his private key (Alice's public key is embedded in the JWE header)</span></span>
<span id="cb1-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span>alice_to_bob, _<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JOSE</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">JWK</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>box_decrypt<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">(</span>encrypted, bob_private_jwk<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">)</span></span></code></pre></div>
</section>
<section id="building-a-scalable-distributed-simulation-system-with-khepri-instances-and-raft-consensus-algorithm" class="level4">
<h4 class="anchored" data-anchor-id="building-a-scalable-distributed-simulation-system-with-khepri-instances-and-raft-consensus-algorithm">Building a Scalable Distributed Simulation System with Khepri Instances and Raft Consensus Algorithm</h4>
<p>In a distributed simulation system, maintaining separate roles for homeservers and simulation servers and using a metadata system with strong consistency guarantees is crucial. Homeservers are responsible for managing metadata, including ownership and mastership information for game entity nodes, using a Khepri instance within a Raft cluster. Simulation servers, including player simulation servers, maintain game entity nodes they have authority over using their own Khepri instances.</p>
<p>Authority transfer is initiated through the metadata Raft cluster when players interact with game entities governed by different simulation servers. The homeserver Khepri’s nested path-to-value structure is updated based on the ownership and mastership rules set by the Master. State updates are exchanged between old and new authority simulation servers or synchronized using a separate mechanism during authority transfer.</p>
<p>Monitoring the load on homeservers and simulation servers allows for balancing the system and ensuring fault tolerance using Raft’s mechanisms. As the number of game entity nodes and players grows, adding more homeservers to the metadata Raft cluster and more simulation servers ensures efficient workload distribution and enhances the overall gaming experience.</p>
</section>
</section>
<section id="distributed-simulation-architecture" class="level2">
<h2 class="anchored" data-anchor-id="distributed-simulation-architecture">Distributed simulation architecture</h2>
<p>Case 1: Authority transfer from Player A to Player B on a different home server</p>
<table class="table">
<colgroup>
<col style="width: 3%">
<col style="width: 87%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Hop Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Player A’s simulation server sends a request to its homeserver (1 hop).</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Player A’s homeserver sends an authority request to Player B’s homeserver (H hops).</td>
<td>H</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Player B’s homeserver sends a response to Player A’s homeserver (H hops).</td>
<td>H</td>
</tr>
<tr class="even">
<td>4</td>
<td>Player A’s homeserver sends an authority response to Player A’s simulation server (1 hop).</td>
<td>1</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Player A’s simulation server sends an acknowledgment to Player B’s simulation server (1 hop).</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Sending an acknowledgment from Player A’s homeserver to Player A’s simulation server may not be necessary, as the authority request can be sent directly to Player B’s homeserver without waiting for confirmation.</p>
<p>Total hops: 3 + 2 * H</p>
<p>Case 2: Authority transfer if Player A’s and Player B’s homeservers are exactly the same</p>
<table class="table">
<colgroup>
<col style="width: 3%">
<col style="width: 87%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Hop Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Player A’s simulation server sends a request to its homeserver (1 hop).</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Player A’s homeserver sends a response directly to Player B’s simulation server (1 hop).</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Player B’s simulation server sends an acknowledgment to Player A’s simulation server (1 hop).</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Total hops: 3</p>
<p>In this optimized process, we have removed sending an acknowledgment from Player A’s homeserver to Player A’s simulation server. This acknowledgment may not be necessary, as the response can be sent directly to Player B’s simulation server without waiting for confirmation. By removing this step, we reduce the total hop count by 1, potentially improving the efficiency of the authority transfer process when both players are on the same home server.</p>
<p>Case 3: Direct communication between Player A and Player B’s simulation servers on the same home server.</p>
<table class="table">
<colgroup>
<col style="width: 2%">
<col style="width: 92%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Hop Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Player A’s simulation server sends an update directly to Player B’s simulation server using a hand-optimized binary layout and an asynchronous communication model.</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Player B’s simulation server sends an acknowledgment to Player A’s simulation server using credit-based flow control or another asynchronous technique.</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>In this modified version of Case 3, both the update and acknowledgment steps employ the high-performance communication system’s features. This includes using hand-optimized binary layouts for data transfer and asynchronous communication techniques to minimize latency and maximize throughput. The total hop count remains the same at 2 hops.</p>
<section id="positive-consequences" class="level3">
<h3 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h3>
<ul>
<li>Strong consistency guarantees</li>
<li>Access control over Khepri instances</li>
<li>Scalability</li>
<li>Minimized network hop counts and latency for authority transfer and state updates</li>
</ul>
</section>
<section id="negative-consequences" class="level3">
<h3 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h3>
<ol type="1">
<li><p><strong>Complexity</strong>: The proposed system involves multiple components, such as homeservers, simulation servers, Khepri instances, and Raft clusters. Managing and maintaining these components can be complex and may require significant development effort.</p></li>
<li><p><strong>Performance</strong>: The use of Raft consensus algorithm ensures strong consistency but may introduce performance overhead due to the need for communication between nodes in the cluster. This could impact the overall performance of the distributed simulation system.</p></li>
<li><p><strong>Scalability</strong>: While the proposal aims to provide scalability, it is not clear how well the system will scale as the number of game entity nodes and players grows. Adding more homeservers and simulation servers might help, but there could still be bottlenecks or limitations that need to be addressed.</p></li>
<li><p><strong>Security</strong>: The proposed state transfer protocol relies on public key cryptography for secure communication between simulation servers. However, the security of the system depends on proper key management and protection against potential attacks, such as man-in-the-middle attacks or replay attacks.</p></li>
<li><p><strong>Fault tolerance</strong>: Although the Raft consensus algorithm provides fault tolerance, the system’s resilience to failures (e.g., server crashes, network issues) needs to be carefully considered and tested to ensure smooth operation under various conditions.</p></li>
<li><p><strong>Synchronization</strong>: The proposal mentions that state updates are exchanged between old and new authority simulation servers or synchronized using a separate mechanism during authority transfer. However, it does not provide details on how this synchronization process works, which could be a critical aspect of the system’s functionality.</p></li>
<li><p><strong>Load balancing</strong>: Monitoring the load on homeservers and simulation servers is essential for balancing the system. However, the proposal does not provide specific details on how load balancing will be achieved or what metrics will be used to determine when to add or remove servers from the system.</p></li>
</ol>
</section>
<section id="option-graveyard" class="level3">
<h3 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h3>
<p>We considered using a client-server model for the distributed simulation system but found that it would not provide the strong consistency guarantees and access control we require, and it would also be more difficult to scale as the number of game entity nodes and players grows.</p>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level3">
<h3 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h3>
<p>This is not a few lines of script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level3">
<h3 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h3>
<p>I am exploring alternatives for the current implementation of the client-server model.</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li>V-Sekai: https://v-sekai.org/</li>
<li>Khepri documentation: https://github.com/rabbitmq/khepri</li>
<li>Raft consensus algorithm: https://raft.github.io/</li>
<li>Networked Physics in Virtual Reality: https://gafferongames.com/post/networked_physics_in_virtual_reality/</li>
<li>Chapter 7 - Advanced Architecture using ZeroMQ: https://zguide.zeromq.org/docs/chapter7/</li>
</ul>


</section>
</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230507-distributed-sim.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/manuals/decisions/20230507-avatar-publishing-workflow-portability.html</link>
  <description><![CDATA[ 



<section id="describe-a-avatar-publishing-workflow-for-portability" class="level2">
<h2 class="anchored" data-anchor-id="describe-a-avatar-publishing-workflow-for-portability">Describe a avatar publishing workflow for portability</h2>
</section>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">Metadata</h2>
<ul>
<li>Status: draft <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai, fire</li>
<li>Tags: V-Sekai, ChatGPT-4, Avatar Publishing, Workflow, Portability, VRM Format, Silent’s Shader, Platform Compatibility, Sketchfab, Booth.pm</li>
</ul>
</section>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>We want to create a workflow for publishing avatars in a portable format that can be easily used across different platforms. The goal is to streamline the process of converting and exporting avatars while maintaining compatibility with various platforms.</p>
</section>
<section id="proposed-solution" class="level2">
<h2 class="anchored" data-anchor-id="proposed-solution">Proposed Solution</h2>
<p>The proposed solution involves using the VRM portable avatar format, Silent’s shader, and platform-specific package bundles to create a seamless workflow for avatar publishing.</p>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ol type="1">
<li>Import avatar in VRM0 portable avatar format.</li>
<li>Install Silent’s shader 1.11.</li>
<li>Convert VRM to compatible platform’s internal format.</li>
</ol>
<ol type="a">
<li>Avoid “Combine Mesh” option.</li>
<li>The Cutout Rendering Mode matches VRM’s usual transparency usage.</li>
<li>UNRESOLVED: VRM Colliders cause greatly increased count of simulated physics objects
<ol start="2" type="i">
<li>Try switching to inside bounds instead of bone as spheres</li>
</ol></li>
</ol>
<ol start="4" type="1">
<li>Swap the mtoon material for Silent’s shader’s crosstone material. Fire doesn’t use the light-ramp shader.</li>
<li>Many bones need to be the first child for IK to work.</li>
<li>Fire prefers solid colour backgrounds for avatar photos</li>
<li>Export as a compatible platform package bundle.</li>
<li>Bundle VRM and compatible platform package bundle and publish on Sketchfab and/or Booth.pm.</li>
<li>The compatible platform should display the avatar as <strong>poor</strong> rated.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h2>
<ul>
<li>Streamlined avatar publishing process.</li>
<li>Increased portability and compatibility with different platforms.</li>
<li>Easier sharing and distribution of avatars.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h2>
<ul>
<li>Potential loss of some features or quality during conversion.</li>
<li>May require additional work to ensure compatibility with all desired platforms.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h2>
<p>N/A</p>
</section>
<section id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-be-used-infrequently-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will be used infrequently, can it be worked around with a few lines of script?</h2>
<p>No, this enhancement aims to create a comprehensive workflow for avatar publishing, which cannot be achieved with just a few lines of script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Yes, creating a standardized workflow for avatar publishing ensures consistency and compatibility across platforms, making it easier for users to share and distribute their avatars.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li>V-Sekai: <a href="https://v-sekai.org/">V-Sekai</a></li>
<li>Silent Cel Shading Shader: <a href="https://gitlab.com/s-ilent/SCSS/-/tree/master/Assets/Silent's%20Cel%20Shading%20Shader">SCSS</a></li>
<li>Silent Cel Shading Shader v1.11: <a href="https://gitlab.com/s-ilent/SCSS/-/releases/v1.11">Silent Cel Shading Shader v1.11</a></li>
<li>Booth.pm: <a href="https://booth.pm/">Booth.pm</a></li>
<li>Sketchfab: <a href="https://sketchfab.com/">Sketchfab</a></li>
<li>VRM converter for compatible platform: <a href="https://booth.pm/en/items/1025226">VRM converter</a>
<ul>
<li>Automatically installs Univrm: <a href="https://github.com/vrm-c/UniVRM">Univrm</a></li>
</ul></li>
</ul>


</section>

 ]]></description>
  <guid>https://v-sekai.github.io/manuals/decisions/20230507-avatar-publishing-workflow-portability.html</guid>
  <pubDate>Sat, 27 May 2023 14:29:35 GMT</pubDate>
</item>
</channel>
</rss>
