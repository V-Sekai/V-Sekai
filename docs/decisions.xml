<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>V-Sekai - Manual</title>
<link>https://v-sekai.github.io/decisions.html</link>
<atom:link href="https://v-sekai.github.io/decisions.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.2.313</generator>
<lastBuildDate>Fri, 20 Jan 2023 02:33:31 GMT</lastBuildDate>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20230112-default-test-plan.html</link>
  <description><![CDATA[ 



<section id="default-test-plan-for-testing-v-sekai-engine-upgrades." class="level1">
<h1>Default test plan for testing V-Sekai engine upgrades.</h1>
<ul>
<li>Status: accepted <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Want to write down the default test plan for V-sekai on engine upgrades.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>Write the default test plans.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<ol type="1">
<li>Check if OpenXR godot works by joining a server.</li>
<li>On pancake desktop mode, check if two clients connect to a 1 server and see each other’s movements.</li>
<li>Check if you can export a map.</li>
<li>WIP Check audio io</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>These are the default things that should work.</p>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>Work.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>This is a standard procedure.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We need to test our work.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<pre><code>MIT License

Copyright (c) 2019-2022 K. S. Ernest (iFire) Lee (fire)
Copyright (c) 2022 V-Sekai Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</code></pre>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20230112-default-test-plan.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20230108-wmf-video-playback.html</link>
  <description><![CDATA[ 



<section id="add-wmf-for-windows-media-playback" class="level1">
<h1>Add WMF for windows media playback</h1>
<section id="context-and-problem-statement" class="level3">
<h3 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h3>
<p>We don’t have any good ways of playing video and also large 4k videos.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level3">
<h3 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h3>
<p>Add WMF support to godot for the windows platform.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level3">
<h3 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h3>
<p>See https://github.com/V-Sekai/godot/tree/wmf</p>
</section>
<section id="positive-consequences" class="level3">
<h3 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h3>
<p>Can play videos.</p>
<p>OS platform supported playback will be hardware accelerated.</p>
</section>
<section id="negative-consequences" class="level3">
<h3 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h3>
<p><em>No response</em></p>
</section>
<section id="option-graveyard" class="level3">
<h3 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h3>
<p><em>No response</em></p>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level3">
<h3 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h3>
<p>It’s not a few lines.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level3">
<h3 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h3>
<p>I found this!</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level3">
<h3 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h3>
<p>Copyright (c) 2022 V-Sekai contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20230108-wmf-video-playback.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20230108-template.html</link>
  <description><![CDATA[ 



<section id="short-title-that-solves-problem-with-solution" class="level1">
<h1>Short title that solves problem with solution</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<!-- Describe the problem or limitation you are having in your project. You may want to articulate the problem in the form of a question. -->
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<pre><code>MIT License

Copyright (c) 2018-present SaracenOne
Copyright (c) 2019-present K. S. Ernest (iFire) Lee (fire)
Copyright (c) 2020-present Lyuma
Copyright (c) 2020-present MMMaellon
Copyright (c) 2022-present V-Sekai Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</code></pre>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20230108-template.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20230108-bolster-creating-the-metaverse.html</link>
  <description><![CDATA[ 



<section id="bolster-creating-the-metaverse" class="level1">
<h1>Bolster creating the metaverse</h1>
<ul>
<li>Status: accepted <!-- draft | rejected | accepted | deprecated | superseded by --></li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>The metaverse needs creators.</p>
<blockquote class="blockquote">
<p>Open Metaverse Interoperability Group’s mission: We bolster the metaverse as an open and interoperable resource for anyone, inspired by the collaborative efforts of the community.</p>
</blockquote>
<blockquote class="blockquote">
<p>The Open Metaverse Interoperability Group is focused on bridging virtual worlds by designing and promoting protocols for identity, social graphs, inventory, and more. Our members include businesses and individuals working towards this common goal. Aside from technical work, OMI aims to create a community of artists, creators, developers, and other innovators to discuss and explore concepts surrounding the design and development of virtual worlds. OMI Core Values</p>
</blockquote>
<blockquote class="blockquote">
<p>We collaborate, driven by research, privacy and accessibility, to make the metaverse more human.</p>
<p>We work incrementally, iteratively, and with intent.</p>
<p>We are creating a cooperative, sustainable culture of innovation.</p>
<p>We empower the people making the metaverse.</p>
<p>We must cultivate resiliency by championing diversity, and freedom of choice.</p>
</blockquote>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>We propose to create a V-Sekai #guide to creating the metaverse, creating your own virtual you and creating a part of the world. This can be a collaboration with others to provide matching #guide to other metaverses.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>Learn from how experienced educators how to bloster new creators.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- optional --></h2>
<ul>
<li>More creators are available.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- optional --></h2>
<ul>
<li>Effort and time are spent for unknown results.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard: <!-- same as above --></h2>
<ul>
<li>Option: <!-- [List the proposed options no longer open for consideration.] --></li>
<li>Rejection Reason: <!-- [List the reasons for the rejection: (the Bad traits)] --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>Not a coding script, but can be a #guide script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Only we can create official V-Sekai guides.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References <!-- optional --></h2>
<ul>
<li>https://v-sekai.org/</li>
</ul>
</section>
<section id="derivative-license" class="level2">
<h2 class="anchored" data-anchor-id="derivative-license">Derivative License</h2>
<p>Copyright (c) 2020-present V-Sekai contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20230108-bolster-creating-the-metaverse.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20230107-elixir-uro-dev-sqlite.html</link>
  <description><![CDATA[ 



<section id="how-to-start-a-development-environment-for-sqlite-and-elixir" class="level1">
<h1>How to start a development environment for sqlite and elixir?</h1>
<section id="describe-the-status-of-the-issue." class="level3">
<h3 class="anchored" data-anchor-id="describe-the-status-of-the-issue.">Describe the status of the issue.</h3>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="">proposed</li>
<li><input type="checkbox" disabled="">draft</li>
<li><input type="checkbox" disabled="">rejected</li>
<li><input type="checkbox" disabled="" checked="">accepted</li>
<li><input type="checkbox" disabled="">deprecated</li>
<li><input type="checkbox" disabled="">superseded by</li>
</ul>
</section>
<section id="list-the-deciders-of-the-issue." class="level3">
<h3 class="anchored" data-anchor-id="list-the-deciders-of-the-issue.">List the deciders of the issue.</h3>
<p>V-Sekai,lyuma,fire,</p>
</section>
<section id="describe-the-tags-of-the-issue." class="level3">
<h3 class="anchored" data-anchor-id="describe-the-tags-of-the-issue.">Describe the tags of the issue.</h3>
<p>V-Sekai,</p>
</section>
<section id="context-and-problem-statement" class="level3">
<h3 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h3>
<p>How do we start our uro backend?</p>
<p>** THIS IS STILL EXPERIMENTAL **</p>
<p>** USE 20220531-elixir-uro-dev for the production URO **</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level3">
<h3 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h3>
<p>Write documentation how to update elixir.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level3">
<h3 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h3>
<p>Compile uro. You will need Elixir installed.</p>
<p>I recommend getting the latest, but for these steps, I am using Elixir v1.14.4.</p>
<p>Download Uro from https://github.com/V-Sekai/uro</p>
<p>We are using the dev environment. It is the default, but you can also set <code>MIX_ENV=dev</code>.</p>
<p>To compile HTML/CSS webpack:</p>
<pre><code>cd assets
npm install
npm run deploy
cd ..</code></pre>
<p>If the compile gives issues, you can run it multiple times. To compile dependencies:</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;">mix</span> do compile, phx.digest</span></code></pre></div>
<p>If one of them gives an error due to <code>nmake</code> or not having a compiler, you can fix it by opening a <code>x64 Native Tools command prompt</code> from visual studio and run <code>mix deps.compile bcrypt_elixir</code></p>
<p>Finally, create and migrate the database and start the development server:</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;">mix</span> ecto.create</span>
<span id="cb3-2"><span class="ex" style="color: null;">mix</span> ecto.migrate</span>
<span id="cb3-3"><span class="ex" style="color: null;">iex.bat</span> <span class="at" style="color: #657422;">--werl</span> <span class="at" style="color: #657422;">-S</span> mix phx.server</span></code></pre></div>
<p>This will start uro at http://localhost:4000/</p>
<p>Create a user in the website register user page.</p>
<p>Go to the console and set the user to be admin.</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;">iex.bat</span> <span class="at" style="color: #657422;">--werl</span> <span class="at" style="color: #657422;">-S</span> mix phx.server</span>
<span id="cb4-2"><span class="co" style="color: #5E5E5E;"># </span><span class="al" style="color: #AD0000;">TODO</span></span>
<span id="cb4-3"><span class="co" style="color: #5E5E5E;"># Call Uro.Accounts.update_user_as_admin</span></span></code></pre></div>
<p><a href="https://github.com/V-Sekai/uro">GitHub - V-Sekai/uro: Server backend for V-Sekai written in Elixir …</a></p>
<p>The docker image docker-uro is compiled using GoCD, so after pushing, check that the pipeline ran.</p>
<p>Then, go to DockerHub at https://hub.docker.com/r/groupsinfra/uro/tags and check the most recently pushed tag (it will not be the latest one, but instead a specific version).</p>
<p>Now, edit the flux config at https://github.com/V-Sekai/flux-config/blob/flux2/workloads/uro-deployment.yaml and replace the uro image version with the tag from above.</p>
<p>Check that uro-deployment was updated.</p>
</section>
<section id="positive-consequences" class="level3">
<h3 class="anchored" data-anchor-id="positive-consequences">Positive Consequences</h3>
<p>We’re able to update uro!</p>
</section>
<section id="negative-consequences" class="level3">
<h3 class="anchored" data-anchor-id="negative-consequences">Negative Consequences</h3>
<p><em>No response</em></p>
</section>
<section id="option-graveyard" class="level3">
<h3 class="anchored" data-anchor-id="option-graveyard">Option graveyard</h3>
<p><em>No response</em></p>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level3">
<h3 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h3>
<p>It’s arguably a few lines of script, but it’s our script!</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level3">
<h3 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h3>
<p>We maintain the website.</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://github.com/V-Sekai/uro">Uro</a></li>
<li>https://github.com/V-Sekai/uro/issues/52</li>
</ul>
</section>
<section id="license-of-the-contribution" class="level3">
<h3 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h3>
<p>Copyright (c) 2022 V-Sekai contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20230107-elixir-uro-dev-sqlite.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20230106-walking-controller-renik.html</link>
  <description><![CDATA[ 



<section id="separate-walking-controller-from-renik-for-manyboneik" class="level1">
<h1>Separate walking controller from RenIK for ManyBoneIK</h1>
<ul>
<li>Status: accepted <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,lyuma,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>To be able to implement ManyBoneIk we need to extract the walking controller from RenIK.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>Extract the walking controller into like a gdscript.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>Split the tracker IKPoints from the controller.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>We can migrate to many bone ik.</p>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>Conversion to gdscript may be slower.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>It is a few lines of script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We manage the avatar experience.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<pre><code>MIT License

Copyright (c) 2018-2022 SaracenOne
Copyright (c) 2019-2022 K. S. Ernest (iFire) Lee (fire)
Copyright (c) 2020-2022 Lyuma
Copyright (c) 2020-2022 MMMaellon
Copyright (c) 2022 V-Sekai Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</code></pre>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20230106-walking-controller-renik.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221214-powershell-autocomplete-use-right-arrow.html</link>
  <description><![CDATA[ 



<section id="powershell-autocomplete-uses-right-arrow" class="level1">
<h1>Powershell autocomplete uses right arrow</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Powershell was updated and there is auto complete. However, the exact prediction command is unknown.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>Document that powershell autocomplete uses the right arrow.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>Write down that right arrow completes the prediction.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>Can auto complete.</p>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>Documentation is work.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>None.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>I wanted to write this down and it’s not a core thing.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://mnaoumov.wordpress.com/2022/11/21/powershell-predictive-intellisense/">https://mnaoumov.wordpress.com/2022/11/21/powershell-predictive-intellisense/</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<pre><code>MIT License

Copyright (c) 2019-2022 K. S. Ernest (iFire) Lee (fire)
Copyright (c) 2022 V-Sekai Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</code></pre>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221214-powershell-autocomplete-use-right-arrow.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221212-world-and-character-tools.html</link>
  <description><![CDATA[ 



<section id="tools-helpful-for-creating-avatars-and-worlds" class="level1">
<h1>Tools helpful for creating Avatars and Worlds</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Want to list some useful tools for world and character creation and are free, open-source and remixable for commercial uses.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>There many tools out there that are helpful for world and character creation.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<ol type="1">
<li>An ESRGAN model made for upscaling normal maps. https://github.com/RunDevelopment/ESRGAN-models/tree/main/normals</li>
<li>A Blender vrm addon. https://vrm-addon-for-blender.info/en/</li>
<li>The easiest way to install and use Stable Diffusion https://github.com/cmdr2/stable-diffusion-ui#installation</li>
<li>Image prompt interrogator https://huggingface.co/spaces/pharma/CLIP-Interrogator/tree/main</li>
<li>Repository for artwork and community for filming https://open3dlab.com/</li>
<li>Image Upscaling GUI based on ESRGAN https://github.com/n00mkrad/cupscale</li>
<li>Discover trending open-source projects and their alternatives https://www.libhunt.com/</li>
<li>Hugging Face arrives to the Elixir community https://huggingface.co/blog/elixir-bumblebee</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>A place to put related tools is helpful.</p>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>A small amount of space and time is used.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>These are not small tools.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>Writing down stuff that’s useful.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<pre><code>MIT License

Copyright (c) 2019-2022 K. S. Ernest (iFire) Lee (fire)
Copyright (c) 2022 V-Sekai Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</code></pre>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221212-world-and-character-tools.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221206-export-godot-vrm-to-the-asset-library.html</link>
  <description><![CDATA[ 



<section id="prepare-godot-vrm-for-asset-library-publishing" class="level1">
<h1>Prepare godot-vrm for asset library publishing</h1>
<ul>
<li>Status: accepted <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,lyuma,fire,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<!-- Describe the problem or limitation you are having in your project. You may want to articulate the problem in the form of a question. -->
<p>We want to prepare godot-vrm for asset library publishing, but the format for publishing is incompatible with development.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>We convert godot-vrm into a format suitable for development and then write a converter to a format ready for the asset library.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>How to migrate to Godot-VRM to submodule format?</p>
<p>The thing Lyuma got blocked on is that VRM contains two addons: VRM and Godot-MToon-Shader</p>
<p>Revive the Godot-MToon-Shader repository which Lyuma previously archived.</p>
<p>But Lyuma will change it so it’s only the submodule (contents of the addons folder) and then Lyuma will make the Godot VRM addon (submodule) a branch in the godot-vrm repository</p>
<p>Then we’ll make a script to sync the changes to/from the godot-vrm example project which we submit to asset lib</p>
<p>Writing this up for Fire, since we talked about the issue with addons/vrm being duplicated in multiple projects since Godot Asset Library doesn’t allow submodules / raw addons folders.</p>
<p>Did some unarchiving and renames so that https://github.com/V-Sekai/Godot-MToon-Shader gets the top google slot</p>
<ol type="1">
<li>Make sure the godot-vrm code is synced up with other repositories where it was duplicated.</li>
<li>Make a mtoon addon repository with a copy of the Godot-MToon-Shader code.</li>
<li>Make a branch in godot-vrm with ONLY the 4.0 vrm addon, usable as a submodule.</li>
<li>Change v-sekai-game and other similar projects to use Godot-MToon-Shader and vrm as a submodules</li>
<li>Write a script to sync up repository contents from one to the other.</li>
</ol>
<section id="is_empty" class="level3">
<h3 class="anchored" data-anchor-id="is_empty">is_empty()</h3>
<p>Is there a functional difference between <code>if not stringvar.is_empty():</code> vs <code>if stringvar != "":</code> x != “” is a bit shorter and easier to type, but I noticed some recommendation to use is_empty().</p>
</section>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>We don’t have duplicate godot-vrm copies and the copies stay in sync.</p>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>Asset library copy is different than development.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. We have duplicate development versions. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>This is a repository layout and not code.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We own the godot-vrm and the mtoon repositories.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<pre><code>MIT License

Copyright (c) 2018-2022 SaracenOne
Copyright (c) 2019-2022 K. S. Ernest (iFire) Lee (fire)
Copyright (c) 2020-2022 Lyuma
Copyright (c) 2020-2022 MMMaellon
Copyright (c) 2022 V-Sekai Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</code></pre>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221206-export-godot-vrm-to-the-asset-library.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221205-port-renik-to-many-bone-ik.html</link>
  <description><![CDATA[ 



<section id="port-renik-to-many-bone-ik-for-better-quality" class="level1">
<h1>Port RENIK to Many Bone IK for better quality</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Renik is a character controller and many bone ik is an ik solver. We have not merged them.</p>
<p>The quality is low for the FABRIK solver.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>We wish to merge many bone ik and renik to improve quality.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<ol type="1">
<li>Replace renik’s usage of FABRIK with many bone ik.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<ol type="1">
<li>Better animation quality</li>
</ol>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>IK is hard and not a few lines of code.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We know how to do it.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<pre><code>MIT License

Copyright (c) 2018-2022 SaracenOne
Copyright (c) 2019-2022 K. S. Ernest (iFire) Lee (fire)
Copyright (c) 2020-2022 Lyuma
Copyright (c) 2020-2022 MMMaellon
Copyright (c) 2022 V-Sekai Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</code></pre>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221205-port-renik-to-many-bone-ik.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221205-moving-fast-philosophy-development.html</link>
  <description><![CDATA[ 



<section id="move-fast-without-breaking-things-for-v-sekai" class="level1">
<h1>Move fast without breaking things for V-Sekai</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>We want to discover ways to move faster.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>We want to discover ways to move faster and last longer.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>Prototype quickly and be adaptive to change.</p>
<p>We use continuous integration and continuous deployment.</p>
<p>We record our decisions in documentation.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>We improve our processes.</p>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>Processes become dead weight.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>This is not code but a workflow document.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We work on V-Sekai.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<pre><code>MIT License

Copyright (c) 2018-2022 SaracenOne
Copyright (c) 2019-2022 K. S. Ernest (iFire) Lee (fire)
Copyright (c) 2020-2022 Lyuma
Copyright (c) 2020-2022 MMMaellon
Copyright (c) 2022 V-Sekai Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</code></pre>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221205-moving-fast-philosophy-development.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221205-debug-linux-export.html</link>
  <description><![CDATA[ 



<section id="short-title-that-solves-problem-with-solution" class="level1">
<h1>Short title that solves problem with solution</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>It is hard to debug exports on Linux without using Linux as a desktop environment. There is a crash on export.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>Propose a workflow for debugging linux exports.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>Use wsl or a virtual machine.</p>
<ol type="1">
<li>Download the exact version of the editor that crashes on export.</li>
<li>Download the game templates.</li>
<li>Run the export in a debugger</li>
<li>Find the bug.</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<ol type="1">
<li>We can export again</li>
<li>Writing down the workflow makes use be able to reuse processes.</li>
</ol>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>We need to download the binaries manually for now.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li><p>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></p></li>
<li><p>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></p></li>
<li><p>Option: Compile the package manually <!-- List the proposed options no longer open for consideration. --></p></li>
<li><p>Rejection Reason: This solves nothing because it is all manually and undocumented <!-- List the reasons for the rejection: (the bad traits) --></p></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>This is a workflow document.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We have to build V-Sekai.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<pre><code>MIT License

Copyright (c) 2018-2022 SaracenOne
Copyright (c) 2019-2022 K. S. Ernest (iFire) Lee (fire)
Copyright (c) 2020-2022 Lyuma
Copyright (c) 2020-2022 MMMaellon
Copyright (c) 2022 V-Sekai Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</code></pre>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221205-debug-linux-export.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221203-target-10-minutes-cicd.html</link>
  <description><![CDATA[ 



<section id="target-10-minutes-cicd-builds-to-improve-our-iterations" class="level1">
<h1>Target 10 minutes cicd builds to improve our iterations</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>CICD builds take too long to do.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>Try to aim for 10 minute builds and reduce stress.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>Try to aim for the godot cicd builds to finish in 10 minute.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>We can see the results of our work.</p>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>Might need to do special tricks.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>This is a dev ops change.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We own the github repositories.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<p>Copyright (c) 2022 K. S. Ernest (iFire) Lee Copyright (c) 2022 V-Sekai contributors</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221203-target-10-minutes-cicd.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221203-block-direct-pushes-to-main.html</link>
  <description><![CDATA[ 



<section id="blocking-direct-push-to-main-to-avoid-build-breakage" class="level1">
<h1>Blocking direct push to MAIN to avoid build breakage</h1>
<ul>
<li>Status: rejected <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,fire,lyuma,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Direct push to main cause build breakage.</p>
<p>Note: This has been rejected by Lyuma.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>We block direct pushes to the main and use pull requests and merges.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>Use the GitHub workflow with pull requests.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>We don’t have to wait 2 hours to see if our changes break the build.</p>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>There are consequences of increased developer merging friction.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: We keep breaking the build. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>This is a dev ops change.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We own the GitHub repositories.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://martinfowler.com/bliki/PendingHead.html">Pending head</a></li>
<li><a href="https://docs.godotengine.org/en/stable/community/contributing/pr_workflow.html">Godot Pull request</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<p>Copyright (c) 2022 K. S. Ernest (iFire) Lee</p>
<p>Copyright (c) 2022 V-Sekai contributors</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221203-block-direct-pushes-to-main.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221022-have-larger-worlds-by-server-state-migration.html</link>
  <description><![CDATA[ 



<section id="simulate-larger-3d-multiplayer-worlds-using-brickworlds-partition-layout" class="level1">
<h1>Simulate larger 3d multiplayer worlds using “brickworlds partition layout”</h1>
<ul>
<li>Status: draft <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,Fire,Groak,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Each V-Sekai game server has a scalability limit. Transfer each player to a different server when needed.</p>
<!-- Describe the problem or limitation you are having in your project. You may want to articulate the problem in the form of a question. -->
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>Transfer the state using a database that can handle commits in commit order despite parallel transactions.</p>
<p>Foundationdb is used by Apple for their cloud services and is trusted to handle distributed data safely.</p>
<p>Godot Engine is a game engine where the interiors are easy to rearrange.</p>
<p>Sqlite is a well written database that is fully tested.</p>
<p>Rust is a good language for failures in math or computer language, but does not handle non code errors (like cosmic rays) through language based software redundancy like Erlang.</p>
<p>Mvsqlite merges sqlite with Foundationdb with Rust glue.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<ol type="1">
<li>Partition the world into tiles via Prasetya, Kusno’s design.</li>
</ol>
<p><img src="https://v-sekai.github.io/decisions/attachments/20221022_uniform_partitioning.png" alt="20221022_uniform_partitioning by Prasetya, Kusno" width="50%"></p>
<ol start="2" type="1">
<li>Define the tiles with a premigration and migration border.</li>
</ol>
<p>Premigration and migration border via Prasetya, Kusno’s design.</p>
<p><img src="https://v-sekai.github.io/decisions/attachments/20221022_world_parition_pre_migration_and_migration_costs.png" alt="20221022_world_parition_pre_migration_and_migration_costs by Prasetya, Kusno" width="50%"></p>
<ol start="3" type="1">
<li>Transfer the player from one server to another by first syncing all the frames, and have the player connect to the other side. Then the server does the transfer and the player disconnects from the previous side when the migration boundary is hit.</li>
</ol>
<p>Server state transfer.</p>
<p><img src="https://v-sekai.github.io/decisions/attachments/20221022_server_state_transfer_load.png" alt="20221022_server_state_transfer_load" width="50%"></p>
<p>Sql schema based on Tigerbeetle.</p>
<p><img src="https://v-sekai.github.io/decisions/attachments/20221022_mvsqlite_sql_query.png" alt="20221022_server_state_transfer_load" width="50%"></p>
<ol start="4" type="1">
<li>Test using a multiplayer simulator via Prasetya, Kusno’s design</li>
</ol>
<p><img src="https://v-sekai.github.io/decisions/attachments/20221022_multiplayer_sim_variables.png" alt="20221022_multiplayer_sim_variables by Prasetya, Kusno" width="25%"></p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<ul>
<li>Allows player transfer from one server to the others servers.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<ul>
<li>Needs to connect the servers to the foundation database simulation servers.</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>It’s not a few lines of script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We maintain the networking stack.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
<li><a href="https://pure.bond.edu.au/ws/portalfiles/portal/18275482/Efficient_Methods_for_Improving_Scalability_and_Playability_of_Massively_Multiplayer_Online_Game_MMOG_.pdf">Efficient_Methods_for_Improving_Scalability_and_Playability_of_Massively_Multiplayer_Online_Game_MMOG by Prasetya, Kusno</a></li>
<li><a href="https://github.com/V-Sekai/godot-sqlite/tree/mvsqlite">godot sqlite mvsqlite</a></li>
<li><a href="https://github.com/V-Sekai/godot-sqlite/tree/mvsqlite/demo">godot mvsql demo</a></li>
<li><a href="https://github.com/fire/mvsqlite/tree/windows">mvsqlite for windows</a></li>
<li><a href="https://github.com/losfair/mvsqlite">mvsqlite</a></li>
<li><a href="https://github.com/apple/foundationdb">Apple’s foundationdb</a></li>
<li><a href="https://www.rust-lang.org/">Rust lang</a></li>
<li><a href="https://github.com/tigerbeetledb/tigerbeetle">Special thanks to the TigerBeetle for the sql schema</a></li>
</ul>
</section>
<section id="code-references" class="level2">
<h2 class="anchored" data-anchor-id="code-references">Code References</h2>
<section id="create-entity-table" class="level3">
<h3 class="anchored" data-anchor-id="create-entity-table">Create entity table</h3>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode swift code-with-copy"><code class="sourceCode swift"><span id="cb1-1">extends Node3D</span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="kw" style="color: #003B4F;">func</span> <span class="fu" style="color: #4758AB;">_ready</span><span class="op" style="color: #5E5E5E;">():</span></span>
<span id="cb1-4">    <span class="dt" style="color: #AD0000;">var</span> <span class="fu" style="color: #4758AB;">db</span> <span class="op" style="color: #5E5E5E;">:</span> <span class="dt" style="color: #AD0000;">SQLite</span> <span class="op" style="color: #5E5E5E;">=</span> SQLite<span class="op" style="color: #5E5E5E;">.</span>new<span class="op" style="color: #5E5E5E;">();</span></span>
<span id="cb1-5">    <span class="cf" style="color: #003B4F;">if</span> <span class="op" style="color: #5E5E5E;">(!</span>db<span class="op" style="color: #5E5E5E;">.</span>open<span class="op" style="color: #5E5E5E;">(</span><span class="st" style="color: #20794D;">"test"</span><span class="op" style="color: #5E5E5E;">)):</span></span>
<span id="cb1-6">        print<span class="op" style="color: #5E5E5E;">(</span><span class="st" style="color: #20794D;">"Failed opening database."</span><span class="op" style="color: #5E5E5E;">);</span></span>
<span id="cb1-7">        <span class="kw" style="color: #003B4F;">return</span><span class="op" style="color: #5E5E5E;">;</span></span>
<span id="cb1-8">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">_drop</span> <span class="op" style="color: #5E5E5E;">:</span> String <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"""drop table if exists entity;</span></span>
<span id="cb1-9"><span class="st" style="color: #20794D;">"""</span></span>
<span id="cb1-10">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">_create_entity_table</span> <span class="op" style="color: #5E5E5E;">:</span> String <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"""</span></span>
<span id="cb1-11"><span class="st" style="color: #20794D;">CREATE TABLE entity (</span></span>
<span id="cb1-12"><span class="st" style="color: #20794D;">    id TEXT PRIMARY KEY NOT NULL CHECK(LENGTH(id) = 36),</span></span>
<span id="cb1-13"><span class="st" style="color: #20794D;">    user_data blob NOT NULL CHECK( LENGTH(user_data) = 16) DEFAULT (zeroblob(16)),</span></span>
<span id="cb1-14"><span class="st" style="color: #20794D;">    reserved blob NOT NULL CHECK( LENGTH(reserved) = 48)  DEFAULT (zeroblob(48)),</span></span>
<span id="cb1-15"><span class="st" style="color: #20794D;">    shard   INTEGER NOT NULL,</span></span>
<span id="cb1-16"><span class="st" style="color: #20794D;">    code    INTEGER NOT NULL,</span></span>
<span id="cb1-17"><span class="st" style="color: #20794D;">    flags   INTEGER NOT NULL,</span></span>
<span id="cb1-18"><span class="st" style="color: #20794D;">    past_pending    BLOB NOT NULL CHECK( LENGTH(past_pending) &lt;= 1024) DEFAULT (zeroblob(64)),</span></span>
<span id="cb1-19"><span class="st" style="color: #20794D;">    past_posted BLOB NOT NULL CHECK( LENGTH(past_posted) &lt;= 1024) DEFAULT (zeroblob(64)),</span></span>
<span id="cb1-20"><span class="st" style="color: #20794D;">    current_pending BLOB NOT NULL CHECK( LENGTH(current_pending) &lt;= 1024) DEFAULT (zeroblob(64)),</span></span>
<span id="cb1-21"><span class="st" style="color: #20794D;">    current_posted  BLOB NOT NULL CHECK( LENGTH(current_posted) &lt;= 1024) DEFAULT (zeroblob(64)),</span></span>
<span id="cb1-22"><span class="st" style="color: #20794D;">    timestamp INTEGER NOT NULL</span></span>
<span id="cb1-23"><span class="st" style="color: #20794D;">) WITHOUT ROWID, STRICT;</span></span>
<span id="cb1-24"><span class="st" style="color: #20794D;">"""</span></span>
<span id="cb1-25">#   db<span class="op" style="color: #5E5E5E;">.</span>query<span class="op" style="color: #5E5E5E;">(</span>create_entity_table<span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb1-26">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">_truncate_entities</span> <span class="op" style="color: #5E5E5E;">:</span> String <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"""</span></span>
<span id="cb1-27"><span class="st" style="color: #20794D;">DELETE FROM entity;</span></span>
<span id="cb1-28"><span class="st" style="color: #20794D;">    """</span></span>
<span id="cb1-29">#   db<span class="op" style="color: #5E5E5E;">.</span>query<span class="op" style="color: #5E5E5E;">(</span>truncate_entities<span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb1-30">    <span class="cf" style="color: #003B4F;">for</span> i <span class="cf" style="color: #003B4F;">in</span> range<span class="op" style="color: #5E5E5E;">(</span><span class="dv" style="color: #AD0000;">32</span><span class="op" style="color: #5E5E5E;">):</span></span>
<span id="cb1-31">        <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">node_3d</span> <span class="op" style="color: #5E5E5E;">:</span> Node3D <span class="op" style="color: #5E5E5E;">=</span> Node3D<span class="op" style="color: #5E5E5E;">.</span>new<span class="op" style="color: #5E5E5E;">()</span></span>
<span id="cb1-32">        <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">script</span> <span class="op" style="color: #5E5E5E;">=</span> load<span class="op" style="color: #5E5E5E;">(</span><span class="st" style="color: #20794D;">"res://sqlite_write/sqlite_write_scene.gd"</span><span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb1-33">        node_3d<span class="op" style="color: #5E5E5E;">.</span>set_script<span class="op" style="color: #5E5E5E;">(</span>script<span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb1-34">        add_child<span class="op" style="color: #5E5E5E;">(</span>node_3d<span class="op" style="color: #5E5E5E;">,</span> <span class="kw" style="color: #003B4F;">true</span><span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb1-35">        node_3d<span class="op" style="color: #5E5E5E;">.</span>owner <span class="op" style="color: #5E5E5E;">=</span> <span class="kw" style="color: #003B4F;">self</span></span></code></pre></div>
</section>
<section id="simulate-entity-processing" class="level3">
<h3 class="anchored" data-anchor-id="simulate-entity-processing">Simulate entity processing</h3>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode swift code-with-copy"><code class="sourceCode swift"><span id="cb2-1">extends Node3D</span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">db</span> <span class="op" style="color: #5E5E5E;">:</span> SQLite <span class="op" style="color: #5E5E5E;">=</span> null</span>
<span id="cb2-4"><span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">result_create</span> <span class="op" style="color: #5E5E5E;">:</span> SQLiteQuery</span>
<span id="cb2-5"><span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">result_delete</span> <span class="op" style="color: #5E5E5E;">:</span> SQLiteQuery</span>
<span id="cb2-6"><span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">uuid</span> <span class="op" style="color: #5E5E5E;">:</span> String</span>
<span id="cb2-7"></span>
<span id="cb2-8"><span class="kw" style="color: #003B4F;">func</span> <span class="fu" style="color: #4758AB;">_ready</span><span class="op" style="color: #5E5E5E;">():</span></span>
<span id="cb2-9">    <span class="dt" style="color: #AD0000;">db</span> <span class="op" style="color: #5E5E5E;">=</span> SQLite<span class="op" style="color: #5E5E5E;">.</span>new<span class="op" style="color: #5E5E5E;">();</span></span>
<span id="cb2-10">    <span class="cf" style="color: #003B4F;">if</span> <span class="op" style="color: #5E5E5E;">(!</span>db<span class="op" style="color: #5E5E5E;">.</span>open<span class="op" style="color: #5E5E5E;">(</span><span class="st" style="color: #20794D;">"test"</span><span class="op" style="color: #5E5E5E;">)):</span></span>
<span id="cb2-11">        print<span class="op" style="color: #5E5E5E;">(</span><span class="st" style="color: #20794D;">"Failed opening database."</span><span class="op" style="color: #5E5E5E;">);</span></span>
<span id="cb2-12">        <span class="kw" style="color: #003B4F;">return</span><span class="op" style="color: #5E5E5E;">;</span></span>
<span id="cb2-13"></span>
<span id="cb2-14">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">select_uuid</span> <span class="op" style="color: #5E5E5E;">:</span> String <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"""</span></span>
<span id="cb2-15"><span class="st" style="color: #20794D;">    SELECT lower(hex(randomblob(4)) || '-' || hex(randomblob(2)) || '-' || '4' ||</span></span>
<span id="cb2-16"><span class="st" style="color: #20794D;">    substr(hex( randomblob(2)), 2) || '-' ||</span></span>
<span id="cb2-17"><span class="st" style="color: #20794D;">    substr('AB89', 1 + (abs(random()) % 4) , 1)  ||</span></span>
<span id="cb2-18"><span class="st" style="color: #20794D;">    substr(hex(randomblob(2)), 2) || '-' ||</span></span>
<span id="cb2-19"><span class="st" style="color: #20794D;">    hex(randomblob(6))) as uuid;</span></span>
<span id="cb2-20"><span class="st" style="color: #20794D;">    """</span></span>
<span id="cb2-21">    uuid <span class="op" style="color: #5E5E5E;">=</span> db<span class="op" style="color: #5E5E5E;">.</span>fetch_array<span class="op" style="color: #5E5E5E;">(</span>select_uuid<span class="op" style="color: #5E5E5E;">)[</span><span class="dv" style="color: #AD0000;">0</span><span class="op" style="color: #5E5E5E;">][</span><span class="st" style="color: #20794D;">"uuid"</span><span class="op" style="color: #5E5E5E;">]</span></span>
<span id="cb2-22">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">query_create_original</span> <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"""</span></span>
<span id="cb2-23"><span class="st" style="color: #20794D;">INSERT INTO entity ("id", "user_data", "reserved", "shard", "code", "flags", "past_pending", "past_posted",</span></span>
<span id="cb2-24"><span class="st" style="color: #20794D;">"current_pending", "current_posted", "timestamp")</span></span>
<span id="cb2-25"><span class="st" style="color: #20794D;">VALUES (?, zeroblob(16), zeroblob(48), 0, 0, 0, zeroblob(64), zeroblob(64), zeroblob(64), ?, UNIXEPOCH());</span></span>
<span id="cb2-26"><span class="st" style="color: #20794D;">"""</span></span>
<span id="cb2-27">    result_create <span class="op" style="color: #5E5E5E;">=</span> db<span class="op" style="color: #5E5E5E;">.</span>create_query<span class="op" style="color: #5E5E5E;">(</span>query_create_original<span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb2-28">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">query_delete</span> <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"""</span></span>
<span id="cb2-29"><span class="st" style="color: #20794D;">    DELETE FROM entity</span></span>
<span id="cb2-30"><span class="st" style="color: #20794D;">    WHERE id = ?;</span></span>
<span id="cb2-31"><span class="st" style="color: #20794D;">"""</span></span>
<span id="cb2-32">    result_delete <span class="op" style="color: #5E5E5E;">=</span> db<span class="op" style="color: #5E5E5E;">.</span>create_query<span class="op" style="color: #5E5E5E;">(</span>query_delete<span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb2-33"></span>
<span id="cb2-34"><span class="kw" style="color: #003B4F;">func</span> <span class="fu" style="color: #4758AB;">_process</span><span class="op" style="color: #5E5E5E;">(</span><span class="va" style="color: #111111;">_delta</span><span class="op" style="color: #5E5E5E;">):</span></span>
<span id="cb2-35">    <span class="dt" style="color: #AD0000;">if</span> <span class="fu" style="color: #4758AB;">db</span> <span class="op" style="color: #5E5E5E;">==</span> null<span class="op" style="color: #5E5E5E;">:</span></span>
<span id="cb2-36">        <span class="kw" style="color: #003B4F;">return</span></span>
<span id="cb2-37">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">packed_array</span> <span class="op" style="color: #5E5E5E;">:</span> Array <span class="op" style="color: #5E5E5E;">=</span> Array<span class="op" style="color: #5E5E5E;">()</span></span>
<span id="cb2-38">    packed_array<span class="op" style="color: #5E5E5E;">.</span>push_back<span class="op" style="color: #5E5E5E;">(</span>global_transform<span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb2-39">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">bytes</span> <span class="op" style="color: #5E5E5E;">:</span> PackedByteArray <span class="op" style="color: #5E5E5E;">=</span> var_to_bytes<span class="op" style="color: #5E5E5E;">(</span>packed_array<span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb2-40">    bytes <span class="op" style="color: #5E5E5E;">=</span> bytes<span class="op" style="color: #5E5E5E;">.</span>compress<span class="op" style="color: #5E5E5E;">(</span>FileAccess<span class="op" style="color: #5E5E5E;">.</span>COMPRESSION_ZSTD<span class="op" style="color: #5E5E5E;">)</span></span>
<span id="cb2-41">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">statement</span> <span class="op" style="color: #5E5E5E;">:</span> Array <span class="op" style="color: #5E5E5E;">=</span> <span class="op" style="color: #5E5E5E;">[</span>uuid<span class="op" style="color: #5E5E5E;">,</span> bytes<span class="op" style="color: #5E5E5E;">]</span></span>
<span id="cb2-42">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">_result_batch</span> <span class="op" style="color: #5E5E5E;">=</span> result_create<span class="op" style="color: #5E5E5E;">.</span>batch_execute<span class="op" style="color: #5E5E5E;">([</span>statement<span class="op" style="color: #5E5E5E;">])</span></span>
<span id="cb2-43"></span>
<span id="cb2-44"><span class="kw" style="color: #003B4F;">func</span> <span class="fu" style="color: #4758AB;">_exit_tree</span><span class="op" style="color: #5E5E5E;">():</span></span>
<span id="cb2-45">    <span class="dt" style="color: #AD0000;">var</span> <span class="fu" style="color: #4758AB;">statement</span> <span class="op" style="color: #5E5E5E;">:</span> <span class="dt" style="color: #AD0000;">Array</span> <span class="op" style="color: #5E5E5E;">=</span> <span class="op" style="color: #5E5E5E;">[</span>uuid<span class="op" style="color: #5E5E5E;">]</span></span>
<span id="cb2-46">    <span class="kw" style="color: #003B4F;">var</span> <span class="va" style="color: #111111;">_result_batch</span> <span class="op" style="color: #5E5E5E;">=</span> result_delete<span class="op" style="color: #5E5E5E;">.</span>batch_execute<span class="op" style="color: #5E5E5E;">([</span>statement<span class="op" style="color: #5E5E5E;">])</span></span></code></pre></div>
</section>
</section>
<section id="mvsqlite-for-windows" class="level2">
<h2 class="anchored" data-anchor-id="mvsqlite-for-windows">mvsqlite for Windows</h2>
<pre class="bat"><code>cmd
scoop install llvm openssl-mingw llvm-mingw
cargo build --release -p mvsqlite
cd mvsqlite-sqlite3
mingw32-make.exe build-patched-sqlite3
set RUST_LOG=info
set MVSQLITE_DATA_PLANE=http://localhost:7000
sqlite3 test
.tables</code></pre>
<section id="check-fdb-status" class="level3">
<h3 class="anchored" data-anchor-id="check-fdb-status">Check fdb status</h3>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;">fdbcli</span></span>
<span id="cb4-2"><span class="ex" style="color: null;">status</span></span>
<span id="cb4-3"><span class="co" style="color: #5E5E5E;"># Force create a database</span></span>
<span id="cb4-4"><span class="co" style="color: #5E5E5E;"># configure new single memory</span></span></code></pre></div>
</section>
<section id="create-a-mvsqlite-database" class="level3">
<h3 class="anchored" data-anchor-id="create-a-mvsqlite-database">Create a mvsqlite database</h3>
<pre class="bat"><code>msys2
curl http://localhost:7001/api/create_namespace -i -d '{"key":"test"}'</code></pre>
</section>
<section id="starting-mvstore-with-foundationdb-on-linux" class="level3">
<h3 class="anchored" data-anchor-id="starting-mvstore-with-foundationdb-on-linux">Starting mvstore with foundationdb on Linux</h3>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="co" style="color: #5E5E5E;"># on Linux</span></span>
<span id="cb6-2"><span class="fu" style="color: #4758AB;">wget</span> https://github.com/apple/foundationdb/releases/download/7.1.15/foundationdb-clients_7.1.15-1_amd64.deb</span>
<span id="cb6-3"><span class="fu" style="color: #4758AB;">sudo</span> dpkg <span class="at" style="color: #657422;">-i</span> foundationdb-clients_7.1.15-1_amd64.deb</span>
<span id="cb6-4"><span class="fu" style="color: #4758AB;">wget</span> https://github.com/apple/foundationdb/releases/download/7.1.15/foundationdb-server_7.1.15-1_amd64.deb</span>
<span id="cb6-5"><span class="fu" style="color: #4758AB;">sudo</span> dpkg <span class="at" style="color: #657422;">-i</span> foundationdb-server_7.1.15-1_amd64.deb</span>
<span id="cb6-6"><span class="ex" style="color: null;">cargo</span> build <span class="at" style="color: #657422;">--release</span> <span class="at" style="color: #657422;">-p</span> mvstore</span>
<span id="cb6-7"><span class="va" style="color: #111111;">RUST_LOG</span><span class="op" style="color: #5E5E5E;">=</span>info <span class="ex" style="color: null;">./mvstore</span> <span class="dt" style="color: #AD0000;">\</span></span>
<span id="cb6-8">  <span class="at" style="color: #657422;">--data-plane</span> 127.0.0.1:7000 <span class="dt" style="color: #AD0000;">\</span></span>
<span id="cb6-9">  <span class="at" style="color: #657422;">--admin-api</span> 127.0.0.1:7001 <span class="dt" style="color: #AD0000;">\</span></span>
<span id="cb6-10">  <span class="at" style="color: #657422;">--metadata-prefix</span> mvstore <span class="dt" style="color: #AD0000;">\</span></span>
<span id="cb6-11">  <span class="at" style="color: #657422;">--raw-data-prefix</span> m</span></code></pre></div>
</section>
<section id="starting-mvstore-with-foundationdb-on-windows" class="level3">
<h3 class="anchored" data-anchor-id="starting-mvstore-with-foundationdb-on-windows">Starting mvstore with foundationdb on Windows</h3>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;">cmd</span></span>
<span id="cb7-2"><span class="ex" style="color: null;">cargo</span> build <span class="at" style="color: #657422;">--release</span> <span class="at" style="color: #657422;">-p</span> mvstore</span>
<span id="cb7-3"><span class="bu" style="color: null;">set</span> RUST_LOG=info</span>
<span id="cb7-4"><span class="ex" style="color: null;">mvstore</span> <span class="at" style="color: #657422;">--data-plane</span> 127.0.0.1:7000 <span class="at" style="color: #657422;">--admin-api</span> 127.0.0.1:7001 <span class="at" style="color: #657422;">--metadata-prefix</span> mvstore <span class="at" style="color: #657422;">--raw-data-prefix</span> m <span class="at" style="color: #657422;">--cluster</span> <span class="st" style="color: #20794D;">"C:/ProgramData/foundationdb/fdb.cluster"</span></span></code></pre></div>
</section>
</section>
<section id="launch-scripts" class="level2">
<h2 class="anchored" data-anchor-id="launch-scripts">Launch scripts</h2>
<section id="start-sqlite3.bat" class="level3">
<h3 class="anchored" data-anchor-id="start-sqlite3.bat">start-sqlite3.bat</h3>
<pre class="bat"><code>set RUST_LOG=info
set MVSQLITE_DATA_PLANE=http://localhost:7000
sqlite3 test</code></pre>
</section>
<section id="start-mvstore.bat" class="level3">
<h3 class="anchored" data-anchor-id="start-mvstore.bat">start-mvstore.bat</h3>
<pre class="bat"><code>set RUST_LOG=error
mvstore --data-plane 127.0.0.1:7000 --admin-api 127.0.0.1:7001 --metadata-prefix mvstore --raw-data-prefix m --cluster "C:/ProgramData/foundationdb/fdb.cluster"</code></pre>
</section>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<p>Copyright (c) 2022 V-Sekai contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221022-have-larger-worlds-by-server-state-migration.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221021-make-it-easier-propose-and-post-bugs.html</link>
  <description><![CDATA[ 



<section id="make-it-easier-to-propose-and-file-bugs-by-simplifying-the-templates" class="level1">
<h1>Make it easier to propose and file bugs by simplifying the templates</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,lyuma</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>About issue templates, I know Godot doesn’t permit plain feature requests in the main godot issue tracker. To propose something you have to have a fleshed out proposal.</p>
<p>That works well for Godot for two reasons: Godot has lots of users so there are already too many feature proposals; and the users of Godot are developers who can be asked to do research and write a whole implementation proposal</p>
<p>The users of V-Sekai are not technical in the same way; and furthermore we are not at the scale Godot was in 3.2 when they switched to requiring proposals.</p>
<p>If we ever do get big enough that feature requests propose a burden then we can consider making it harder to file them</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>Modify the V-Sekai-game issue templates to be easier to use.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>Remove required fields. Make them easier to use.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<ul>
<li>More bug filing</li>
<li>More proposals</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<ul>
<li>More work on the devs to catalog</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>Not a script.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We own the repos.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<p>Copyright (c) 2022 V-Sekai contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221021-make-it-easier-propose-and-post-bugs.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221019-replicate-sync-100-000-entities.html</link>
  <description><![CDATA[ 



<section id="replicate-sync-100000-entities-using-a-solution-revision-1" class="level1">
<h1>Replicate sync 100’000 entities using a solution (Revision 1)</h1>
<ul>
<li>Status: proposed</li>
<li>Deciders: V-Sekai,fire,</li>
<li>Tags: V-Sekai,sync,view replication,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>Develop a performant and robust (correctly and with liveness) network entity sync in V-Sekai.</p>
<p>A client is one Godot Engine connection, it can view and change entities.</p>
<p>There are 100’000 networked entities in a city and we go from position a to position b in a loop in a mover with one or more attached cabins.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>This document is a general problem statement.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- optional --></h2>
<ul>
<li>Large sims!</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- optional --></h2>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard: <!-- same as above --></h2>
<ul>
<li>Option: Current V-Sekai replication</li>
<li>Rejection Reason: Can’t link servers</li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>Entity replication is not trivial.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We’re doing the networking layer.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References <!-- optional and numbers of links can vary --></h2>
<ul>
<li><a href="../decisions/20221019-develop-a-replication-sync-for-100-000-entities.html">20221019-develop-a-replication-sync-for-100-000-entities.md</a></li>
<li><a href="../decisions/20221016-v-sekai-view-replication.html">20221016-v-sekai-view-replication.md</a></li>
<li><a href="../decisions/20221014-networking-overhaul-proposal.html">20221014-networking-overhaul-proposal.md</a></li>
<li><a href="https://pure.bond.edu.au/ws/portalfiles/portal/18275482/Efficient_Methods_for_Improving_Scalability_and_Playability_of_Massively_Multiplayer_Online_Game_MMOG_.pdf">Efficient<em>Methods_for_Improving_Scalability_and_Playability_of_Massively_Multiplayer_Online_Game_MMOG</em>.pdf</a></li>
</ul>
<section id="questions" class="level3">
<h3 class="anchored" data-anchor-id="questions">Questions</h3>
<p>How many clients can be in this simulation?</p>
<p>The state database should be smaller to avoid replication traffic on non-liveliness.</p>
</section>
</section>
<section id="math" class="level2">
<h2 class="anchored" data-anchor-id="math">Math</h2>
<p>The calculation of who to pair and to find nearby or relevant players is a N^2 loop. Use better algorithms to lower O (N^2) into O (N log N).</p>
<p>The proposed solution can be solved in O (N log N).</p>
</section>
<section id="derivative-license" class="level2">
<h2 class="anchored" data-anchor-id="derivative-license">Derivative License</h2>
<p>Copyright (c) 2022 V-Sekai contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221019-replicate-sync-100-000-entities.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221019-networking-100000-entities-ownership.html</link>
  <description><![CDATA[ 



<section id="networking-with-100000-entities-and-ownership-revision-2" class="level1">
<h1>Networking with 100000 Entities and Ownership (Revision 2)</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,</li>
<li>Tags: V-Sekai, Networking</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>In short, replication of state while permitting object ownership to transfer, at scale.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>If we go with a model in which objects have one of three policies:</p>
<ol type="1">
<li>Deny</li>
<li>Ask Master</li>
<li>Allow always (synchronous replication)</li>
</ol>
<p>We want to ensure various guarantees in each case.</p>
<ol type="1">
<li>There is no problem</li>
<li>We will delay sync by 1 round trip, so there is no problem because everything is synchronized against the master.</li>
<li>We will follow a “last-write wins” strategy from the perspective of the relay server responsible for mastership.</li>
</ol>
<p>Other relays only need to know which server owns each object (and possibly the ownership / mastership table), and where each entity is.</p>
<p>Having this constraint permits us to use a model where we do not need consistent and transactional global information about object ownership, which allows the system to be simpler.</p>
<p>Idea of separation of presence queries (who is here, reliably, tricky to figure out who of 100000 clients is relevant?) from realtime networking sync, which can flow directly from relay to relay, degrading over distance.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>None yet. We may try prototyping this type of system in multiple ways.</p>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>This keeps low latency but reduces the needed bandwidth to sync 100,000 entites.</p>
<p>Napkin math:</p>
<pre><code>50 bytes per frame per object * 100,000 objects = 5MB per frame.
5MB/frame * 20 fps = 100MB = 1Gbps
If we send updates of all obejcts to all objects, that requires 100Tb/s

&gt; yea 100k users at once is impossible any way you put it. I think a realistic goal is 1k, as like, our max goal

Right, so you would need to not send updates for far away objects

Only send 1000 closest objects: 1Tb/s

+ Send faraway objects at 2Hz: 100Gb/s

+ Heavy delta compression: 10Gb/s

This is for all players

Thie means, in a hypothetical universe where distant objects only need position sync, a server with 10Gb/s NIC could theoretically run 100,000 concurrent users, if optimizzed!

Also, therefore, per player bandwidth **of distant objects** would be 100Kbit/s of downstream data, which is pretty small.

Again I haven't accounted for IK synchronization, or for additional nearby objects, so it could be higher here.
Nearby objects is a smaller problem and easier to solve, and belongs in a separate proposal.</code></pre>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>We may be overcomplicating a problem that doesn’t need to be solved yet. Pure interest management may be sufficient, and we do not currently have this many users.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>Source:</p>
<p>Discord VC with Malek and iFire</p>
<p>Discord channel forum-v-sekai “Networking with librg” thread: https://discord.com/channels/471446618156040210/1031379649776848900/1032401929587929208</p>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<p>Copyright (c) 2022 V-Sekai contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221019-networking-100000-entities-ownership.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221019-develop-a-replication-sync-for-100-000-entities.html</link>
  <description><![CDATA[ 



<section id="replicate-sync-100000-entities-using-godot-engine-mvsqlite-and-foundationdb" class="level1">
<h1>Replicate sync 100’000 entities using Godot Engine, mvsqlite and Foundationdb</h1>
<ul>
<li>Status: proposed</li>
<li>Deciders: V-Sekai,fire,</li>
<li>Tags: V-Sekai,sync,view replication,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<p>See <a href="../decisions/20221019-replicate-sync-100-000-entities.html">replicate sync 100’000 entities using a solution</a>.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>I propose we have groups of servers handling entities. Each server is synchronized with mvsqlite.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<p>We assume we’re using Godot Engine 4 with float is doubles.</p>
<p>The servers do not share (independently access) the same memory or storage.</p>
<p>We can track the entity’s visibility and have a packed byte array per frame.</p>
<p>Use mvsqlite in STRICT sql mode.</p>
<p>Use the SQLite generated columns option STORED to optimize for reading and VIRTUAL to optimize for writing.</p>
<p>Create ECS style mvsqlite database for streaming and events (movement, health, avatar path and others).</p>
<p>For movement update the table once and only once per frame.</p>
<p>For avatar paths that change batch notify once per frame.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://v-sekai.github.io/decisions/https:/user-images.githubusercontent.com/32321/196743240-092dba67-98e7-4a92-937c-48dd26284d4f.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">image</figcaption><p></p>
</figure>
</div>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- optional --></h2>
<ul>
<li>The code is using foundationdb’s share nothing architecture.</li>
</ul>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- optional --></h2>
<ul>
<li>Worried that latency will be above 20 milliseconds. It was shown in the graphs. May be a bug in mvsqlite with sequential key retries. Does the ownership / mastership of entities change often?</li>
</ul>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard: <!-- same as above --></h2>
<ul>
<li>Option: Current V-Sekai replication</li>
<li>Rejection Reason: Can’t link servers</li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>Entity replication is not trivial.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We’re doing the networking layer.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References <!-- optional and numbers of links can vary --></h2>
<ul>
<li><a href="https://apple.github.io/foundationdb/fault-tolerance.html">fault-tolerance</a></li>
<li><a href="https://github.com/V-Sekai/godot-sqlite/tree/mvsqlite">godot-sqlite with mvsqlite</a></li>
<li><a href="https://github.com/novuscore/NovusCore">novus core</a></li>
</ul>
</section>
<section id="diagram-source" class="level2">
<h2 class="anchored" data-anchor-id="diagram-source">Diagram source</h2>
<pre class="nomnoml"><code>[godot client alice] -&gt; [godot server alpha with mvsqlite |  [godot server alpha with mvsqlite| owns groups entities per tick
  | have a way to track entities
  | create, update and delete entity groups]]
[godot client bob] -&gt; [godot server beta with mvsqlite |  [godot server beta with mvsqlite| owns groups entities per tick
  | have a way to track entities
  | create, update and delete entity groups]]
[godot client carol] -&gt; [godot server gamma with mvsqlite |  [godot server gamma with mvsqlite| owns groups entities per tick
  | have a way to track entities
  | create, update and delete entity groups]]
  [godot server alpha with mvsqlite] - [godot server beta with mvsqlite]
  [godot server alpha with mvsqlite] - [godot server gamma with mvsqlite]
  [godot server beta with mvsqlite] - [godot server gamma with mvsqlite]</code></pre>
</section>
<section id="derivative-license" class="level2">
<h2 class="anchored" data-anchor-id="derivative-license">Derivative License</h2>
<p>Copyright (c) 2022 V-Sekai contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221019-develop-a-replication-sync-for-100-000-entities.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
  <media:content url="https://user-images.githubusercontent.com/32321/196743240-092dba67-98e7-4a92-937c-48dd26284d4f.png" medium="image" type="image/png"/>
</item>
<item>
  <title></title>
  <link>https://v-sekai.github.io/decisions/20221018-v-sekai-game-update-procedure.html</link>
  <description><![CDATA[ 



<section id="to-remember-how-to-update-the-engine-and-game-write-a-procedure" class="level1">
<h1>To remember how to update the engine and game write a procedure</h1>
<ul>
<li>Status: proposed <!-- draft | proposed | rejected | accepted | deprecated | superseded by --></li>
<li>Deciders: V-Sekai,</li>
<li>Tags: V-Sekai,</li>
</ul>
<section id="context-and-problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="context-and-problem-statement">Context and Problem Statement</h2>
<!-- Describe the problem or limitation you are having in your project. You may want to articulate the problem in the form of a question. -->
<p>Godot Engine and V-Sekai are fast moving projects.</p>
</section>
<section id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-proposed-option-and-how-it-helps-to-overcome-the-problem-or-limitation">Describe the proposed option and how it helps to overcome the problem or limitation</h2>
<p>Write down how to update the engine and the game.</p>
</section>
<section id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams" class="level2">
<h2 class="anchored" data-anchor-id="describe-how-your-proposal-will-work-with-code-pseudo-code-mock-ups-or-diagrams">Describe how your proposal will work, with code, pseudo-code, mock-ups, or diagrams</h2>
<ol type="1">
<li>First step: change the <code>update_vsekai_godot</code> script to push to a staging branch.</li>
<li>Next step (lazy and simple): it is your responsibility to build the engine, run groups project and make sure it works.</li>
<li>Optionally: you should perform an export build and make sure that works too.</li>
<li>Next step (less lazy): we add another set of CI pipelines for staging godot -&gt; staging templates -&gt; staging groups and then we test that</li>
<li>Most issues aren’t export related, so I think engine build + open project and run project is probably sufficient for most things and we need a script to push staging -&gt; groups-4.x</li>
<li>Which means everyone gets the upgraded engine</li>
</ol>
</section>
<section id="positive-consequences" class="level2">
<h2 class="anchored" data-anchor-id="positive-consequences">Positive Consequences <!-- improvement of quality attribute satisfaction, follow-up decisions required --></h2>
<p>Creating a standard procedure means people know what to do.</p>
</section>
<section id="negative-consequences" class="level2">
<h2 class="anchored" data-anchor-id="negative-consequences">Negative Consequences <!-- compromising quality attribute, follow-up decisions required --></h2>
<p>It’s complicated.</p>
</section>
<section id="option-graveyard" class="level2">
<h2 class="anchored" data-anchor-id="option-graveyard">Option graveyard:</h2>
<ul>
<li>Option: The status quo. <!-- List the proposed options no longer open for consideration. --></li>
<li>Rejection Reason: This solves nothing. <!-- List the reasons for the rejection: (the bad traits) --></li>
</ul>
</section>
<section id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script" class="level2">
<h2 class="anchored" data-anchor-id="if-this-enhancement-will-not-be-used-often-can-it-be-worked-around-with-a-few-lines-of-script">If this enhancement will not be used often, can it be worked around with a few lines of script?</h2>
<p>This is a procedure and not code.</p>
</section>
<section id="is-there-a-reason-why-this-should-be-core-and-done-by-us" class="level2">
<h2 class="anchored" data-anchor-id="is-there-a-reason-why-this-should-be-core-and-done-by-us">Is there a reason why this should be core and done by us?</h2>
<p>We know how to do this and others don’t.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://v-sekai.org/">V-Sekai</a></li>
</ul>
</section>
<section id="license-of-the-contribution" class="level2">
<h2 class="anchored" data-anchor-id="license-of-the-contribution">License of the contribution</h2>
<p>Copyright (c) 2022 V-Sekai contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>


</section>
</section>

 ]]></description>
  <guid>https://v-sekai.github.io/decisions/20221018-v-sekai-game-update-procedure.html</guid>
  <pubDate>Fri, 20 Jan 2023 02:33:31 GMT</pubDate>
</item>
</channel>
</rss>
